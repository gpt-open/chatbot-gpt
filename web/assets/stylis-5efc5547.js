var V="comm",W="rule",X="decl",y="@import",rr="@keyframes",er="@layer",Z=Math.abs,B=String.fromCharCode;function _(r){return r.trim()}function Y(r,e,c){return r.replace(e,c)}function ar(r,e,c){return r.indexOf(e,c)}function z(r,e){return r.charCodeAt(e)|0}function I(r,e,c){return r.slice(e,c)}function d(r){return r.length}function cr(r){return r.length}function N(r,e){return e.push(r),r}var K=1,x=1,$=0,v=0,i=0,L="";function G(r,e,c,n,s,k,O,f){return{value:r,root:e,parent:c,type:n,props:s,children:k,line:K,column:x,length:O,return:"",siblings:f}}function nr(){return i}function ir(){return i=v>0?z(L,--v):0,x--,i===10&&(x=1,K--),i}function h(){return i=v<$?z(L,v++):0,x++,i===10&&(x=1,K++),i}function R(){return z(L,v)}function D(){return v}function P(r,e){return I(L,r,e)}function j(r){switch(r){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function tr(r){return K=x=1,$=d(L=r),v=0,[]}function sr(r){return L="",r}function U(r){return _(P(v-1,q(r===91?r+2:r===40?r+1:r)))}function ur(r){for(;(i=R())&&i<33;)h();return j(r)>2||j(i)>3?"":" "}function fr(r,e){for(;--e&&h()&&!(i<48||i>102||i>57&&i<65||i>70&&i<97););return P(r,D()+(e<6&&R()==32&&h()==32))}function q(r){for(;h();)switch(i){case r:return v;case 34:case 39:r!==34&&r!==39&&q(i);break;case 40:r===41&&q(r);break;case 92:h();break}return v}function or(r,e){for(;h()&&r+i!==47+10;)if(r+i===42+42&&R()===47)break;return"/*"+P(e,v-1)+"*"+B(r===47?r:h())}function vr(r){for(;!j(R());)h();return P(r,v)}function br(r){return sr(F("",null,null,null,[""],r=tr(r),0,[0],r))}function F(r,e,c,n,s,k,O,f,w){for(var g=0,E=0,u=O,T=0,m=0,C=0,o=1,S=1,l=1,t=0,p="",M=s,A=k,b=n,a=p;S;)switch(C=t,t=h()){case 40:if(C!=108&&z(a,u-1)==58){ar(a+=Y(U(t),"&","&\f"),"&\f",Z(g?f[g-1]:0))!=-1&&(l=-1);break}case 34:case 39:case 91:a+=U(t);break;case 9:case 10:case 13:case 32:a+=ur(C);break;case 92:a+=fr(D()-1,7);continue;case 47:switch(R()){case 42:case 47:N(hr(or(h(),D()),e,c,w),w);break;default:a+="/"}break;case 123*o:f[g++]=d(a)*l;case 125*o:case 59:case 0:switch(t){case 0:case 125:S=0;case 59+E:l==-1&&(a=Y(a,/\f/g,"")),m>0&&d(a)-u&&N(m>32?J(a+";",n,c,u-1,w):J(Y(a," ","")+";",n,c,u-2,w),w);break;case 59:a+=";";default:if(N(b=H(a,e,c,g,E,s,f,p,M=[],A=[],u,k),k),t===123)if(E===0)F(a,e,b,b,M,k,u,f,A);else switch(T===99&&z(a,3)===110?100:T){case 100:case 108:case 109:case 115:F(r,b,b,n&&N(H(r,b,b,0,0,s,f,p,s,M=[],u,A),A),s,A,u,f,n?M:A);break;default:F(a,b,b,b,[""],A,0,f,A)}}g=E=m=0,o=l=1,p=a="",u=O;break;case 58:u=1+d(a),m=C;default:if(o<1){if(t==123)--o;else if(t==125&&o++==0&&ir()==125)continue}switch(a+=B(t),t*o){case 38:l=E>0?1:(a+="\f",-1);break;case 44:f[g++]=(d(a)-1)*l,l=1;break;case 64:R()===45&&(a+=U(h())),T=R(),E=u=d(p=a+=vr(D())),t++;break;case 45:C===45&&d(a)==2&&(o=0)}}return k}function H(r,e,c,n,s,k,O,f,w,g,E,u){for(var T=s-1,m=s===0?k:[""],C=cr(m),o=0,S=0,l=0;o<n;++o)for(var t=0,p=I(r,T+1,T=Z(S=O[o])),M=r;t<C;++t)(M=_(S>0?m[t]+" "+p:Y(p,/&\f/g,m[t])))&&(w[l++]=M);return G(r,e,c,s===0?W:f,w,g,E,u)}function hr(r,e,c,n){return G(r,e,c,V,B(nr()),I(r,2,-2),0,n)}function J(r,e,c,n,s){return G(r,e,c,X,I(r,0,n),I(r,n+1,-1),n,s)}function Q(r,e){for(var c="",n=0;n<r.length;n++)c+=e(r[n],n,r,e)||"";return c}function kr(r,e,c,n){switch(r.type){case er:if(r.children.length)break;case y:case X:return r.return=r.return||r.value;case V:return"";case rr:return r.return=r.value+"{"+Q(r.children,n)+"}";case W:if(!d(r.value=r.props.join(",")))return""}return d(c=Q(r.children,n))?r.return=r.value+"{"+c+"}":""}export{kr as a,br as c,Q as s};
