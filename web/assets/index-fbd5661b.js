import{a as G,F as Ie,j as m}from"./@uiw-fbcd8db3.js";import{t as h}from"./i18next-30b8d63f.js";import{r as n,R as ea}from"./react-dff1db10.js";import{A as ta,w as ot,d as aa,E as ra,M as na,D as ia,K as ie,e as oa,R as He,g as la,C as ca,i as sa,h as lt,j as da,t as ua,k as ct,l as ma,m as fa,n as w,r as yt,o as va,q as $t,s as pa,v as ba,x as ha,y as ga,z as ya,F as W,G as $a,H as Sa,I as Ca,S as St,J as Ct,N as oe,P as xt,Q as _t,T as wt,U as Tt,V as Pt,W as xa,X as _a,Y as wa,Z as Ta,_ as Pa,$ as Ea,a0 as Na,a1 as Ra,a2 as Ia,a3 as La}from"./index-3c264776.js";import{m as Et}from"./md5-b3ae1974.js";import{b as Nt}from"./react-router-6caf0c27.js";import{a as se,n as B,q as ae,c as Ge,h as Z,r as st,t as Me}from"./@babel-d99aad0a.js";import{c as Q}from"./classnames-c5f7966c.js";import{c as Ma}from"./clsx-8a2321ee.js";import"./rehype-prism-plus-f8916250.js";import"./parse-numeric-range-9242e1ec.js";import"./refractor-f0b25896.js";import"./hastscript-aed2bf9f.js";import"./property-information-33d7f5d8.js";import"./space-separated-tokens-eedf1754.js";import"./comma-separated-tokens-495b557e.js";import"./hast-util-parse-selector-2e5db8ec.js";import"./parse-entities-886a4bc9.js";import"./character-entities-legacy-d39742d7.js";import"./character-reference-invalid-da0c882b.js";import"./is-decimal-dfcce753.js";import"./is-hexadecimal-f403e296.js";import"./is-alphanumerical-4b9c73ef.js";import"./is-alphabetical-ea837323.js";import"./decode-named-character-reference-29ded5ae.js";import"./unist-util-visit-4a8cdef4.js";import"./unist-util-visit-parents-9b4d9404.js";import"./unist-util-is-7e122464.js";import"./hast-util-to-string-00227f59.js";import"./unist-util-filter-35bc8277.js";import"./rehype-rewrite-eb153844.js";import"./hast-util-select-9331a119.js";import"./css-selector-parser-8b709f9f.js";import"./direction-ad776bdc.js";import"./devlop-d057c9d1.js";import"./bcp-47-match-575b2c5d.js";import"./nth-check-c1dafc58.js";import"./boolbase-d6ee5218.js";import"./zwitch-18fef54d.js";import"./hast-util-has-property-d1e39f7e.js";import"./hast-util-whitespace-675c549c.js";import"./rehype-attr-f923984d.js";import"./remark-github-blockquote-alert-8cef172c.js";import"./remark-gfm-20e428bd.js";import"./micromark-extension-gfm-298f896c.js";import"./micromark-util-combine-extensions-34ef5cdc.js";import"./micromark-util-chunked-6f054bfc.js";import"./micromark-extension-gfm-autolink-literal-8a85e3f8.js";import"./micromark-util-character-c2e05b35.js";import"./micromark-extension-gfm-footnote-8cf02a4f.js";import"./micromark-factory-space-d1556c33.js";import"./micromark-util-normalize-identifier-dfdf0387.js";import"./micromark-core-commonmark-c07aab3d.js";import"./micromark-util-classify-character-e6f2af83.js";import"./micromark-util-resolve-all-8a85a8df.js";import"./micromark-util-subtokenize-df14a385.js";import"./micromark-factory-destination-61e3e50f.js";import"./micromark-factory-label-3c24794b.js";import"./micromark-factory-title-4ecadfa4.js";import"./micromark-factory-whitespace-d4a599a3.js";import"./micromark-util-html-tag-name-eaa6d7c0.js";import"./micromark-extension-gfm-strikethrough-29e1f4c9.js";import"./micromark-extension-gfm-table-76f075a8.js";import"./micromark-extension-gfm-task-list-item-fd9ad625.js";import"./mdast-util-gfm-1f81a492.js";import"./mdast-util-gfm-autolink-literal-9953eda7.js";import"./ccount-97b3fed9.js";import"./mdast-util-find-and-replace-b2f01ca3.js";import"./mdast-util-gfm-footnote-31843ff4.js";import"./mdast-util-gfm-strikethrough-02821e6f.js";import"./mdast-util-gfm-table-588424c3.js";import"./markdown-table-e4bb1f36.js";import"./mdast-util-to-markdown-0c832652.js";import"./longest-streak-062c506f.js";import"./mdast-util-to-string-bfd41500.js";import"./mdast-util-phrasing-2f08fe12.js";import"./mdast-util-gfm-task-list-item-90dca6dd.js";import"./react-markdown-f7386cc6.js";import"./unified-e9e478f7.js";import"./bail-0fe607cf.js";import"./extend-c40a5e11.js";import"./trough-69dd48ea.js";import"./vfile-33e078b6.js";import"./vfile-message-9c3a211a.js";import"./unist-util-stringify-position-7b16d8bf.js";import"./remark-parse-71140eaa.js";import"./mdast-util-from-markdown-0e6c3239.js";import"./micromark-util-decode-numeric-character-reference-e471f84f.js";import"./micromark-util-decode-string-c1ef5903.js";import"./micromark-65d6e649.js";import"./remark-rehype-a950e1f8.js";import"./mdast-util-to-hast-d1f82779.js";import"./@ungap-d56ab8cf.js";import"./micromark-util-sanitize-uri-ce9db7f5.js";import"./unist-util-position-bb1bbaf7.js";import"./trim-lines-00010efb.js";import"./hast-util-to-jsx-runtime-ebad87b4.js";import"./style-to-object-9435a2b9.js";import"./inline-style-parser-e2a37bce.js";import"./estree-util-is-identifier-name-e0420bc7.js";import"./html-url-attributes-cc94b481.js";import"./rehype-raw-73b755a6.js";import"./hast-util-raw-8bc647f5.js";import"./html-void-elements-491fdcba.js";import"./entities-9253376c.js";import"./web-namespaces-a6665c10.js";import"./hast-util-from-parse5-d7b45037.js";import"./vfile-location-f7aeb950.js";import"./hast-util-to-parse5-206b4890.js";import"./rehype-ignore-14d04115.js";import"./rehype-slug-66bdf6f7.js";import"./github-slugger-15b5d832.js";import"./hast-util-heading-rank-7e277c28.js";import"./rehype-autolink-headings-df90c626.js";import"./hast-util-is-element-29e512ec.js";import"./dayjs-83ab33dc.js";import"./i18next-browser-languagedetector-fca6a14c.js";import"./localforage-660b2602.js";import"./react-i18next-0e383b52.js";import"./react-dom-f42ccf45.js";import"./scheduler-765c72db.js";import"./react-query-4ad05a68.js";import"./react-router-dom-9dc85496.js";import"./@remix-run-dce5b06c.js";import"./@emotion-c0b5c018.js";import"./stylis-5efc5547.js";import"./@ctrl-fb5a5473.js";import"./@openim-b42991a8.js";import"./ahooks-087edcb4.js";import"./tslib-2295a9e7.js";import"./lodash-45a63edf.js";import"./react-fast-compare-8fc01d60.js";import"./resize-observer-polyfill-0f9f8adb.js";import"./react-image-file-resizer-082b4f54.js";import"./open-im-sdk-wasm-d275cb6c.js";import"./zustand-389b6932.js";import"./use-sync-external-store-21b41d34.js";import"./axios-9cbf0d09.js";import"./uuid-4a60fe23.js";import"./date-fns-ddf8a5f4.js";import"./mitt-f7ef348c.js";import"./scroll-into-view-if-needed-582d6ca4.js";import"./compute-scroll-into-view-e3f0ecc2.js";import"./throttle-debounce-87e7e444.js";import"./react-virtuoso-ece04c36.js";import"./react-draggable-6c3d17fb.js";import"./prop-types-08c7c3df.js";import"./@livekit-a264025c.js";import"./livekit-client-bb1568a6.js";import"./loglevel-52fed41a.js";import"./rxjs-eb9efe3f.js";import"./usehooks-ts-f5852a9b.js";import"./lodash.debounce-437ec0ef.js";import"./react-use-7b72ee3d.js";import"./copy-to-clipboard-8651a7ed.js";import"./toggle-selection-93f4ad84.js";import"./react-resizable-panels-8afeaa56.js";import"./xgplayer-791f2daf.js";import"./twemoji-540bbbe7.js";import"./lodash-es-db56b0a0.js";import"./@ckeditor-b393bf11.js";import"./color-convert-d47c3cb3.js";import"./color-name-b7949e8c.js";import"./emoji-picker-element-f6bf587d.js";import"./crypt-5ea4a8e1.js";import"./charenc-bfd911d6.js";import"./is-buffer-793dba8c.js";var za={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M192 474h672q8 0 8 8v60q0 8-8 8H160q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"};const ka=za;var Ba=function(t,r){return n.createElement(ta,se({},t,{ref:r,icon:ka}))},Oa=n.forwardRef(Ba);const Aa=Oa,ze=n.createContext(null);var Da=function(t){var r=t.activeTabOffset,a=t.horizontal,i=t.rtl,l=t.indicator,s=l===void 0?{}:l,o=s.size,u=s.align,c=u===void 0?"center":u,p=n.useState(),v=B(p,2),S=v[0],E=v[1],k=n.useRef(),N=ea.useCallback(function($){return typeof o=="function"?o($):typeof o=="number"?o:$},[o]);function R(){ot.cancel(k.current)}return n.useEffect(function(){var $={};if(r)if(a){$.width=N(r.width);var b=i?"right":"left";c==="start"&&($[b]=r[b]),c==="center"&&($[b]=r[b]+r.width/2,$.transform=i?"translateX(50%)":"translateX(-50%)"),c==="end"&&($[b]=r[b]+r.width,$.transform="translateX(-100%)")}else $.height=N(r.height),c==="start"&&($.top=r.top),c==="center"&&($.top=r.top+r.height/2,$.transform="translateY(-50%)"),c==="end"&&($.top=r.top+r.height,$.transform="translateY(-100%)");return R(),k.current=ot(function(){E($)}),R},[r,a,i,c,N]),{style:S}},dt={width:0,height:0,left:0,top:0};function ja(e,t,r){return n.useMemo(function(){for(var a,i=new Map,l=t.get((a=e[0])===null||a===void 0?void 0:a.key)||dt,s=l.left+l.width,o=0;o<e.length;o+=1){var u=e[o].key,c=t.get(u);if(!c){var p;c=t.get((p=e[o-1])===null||p===void 0?void 0:p.key)||dt}var v=i.get(u)||ae({},c);v.right=s-v.left-v.width,i.set(u,v)}return i},[e.map(function(a){return a.key}).join("_"),t,r])}function ut(e,t){var r=n.useRef(e),a=n.useState({}),i=B(a,2),l=i[1];function s(o){var u=typeof o=="function"?o(r.current):o;u!==r.current&&t(u,r.current),r.current=u,l({})}return[r.current,s]}var Fa=.1,mt=.01,Le=20,ft=Math.pow(.995,Le);function Wa(e,t){var r=n.useState(),a=B(r,2),i=a[0],l=a[1],s=n.useState(0),o=B(s,2),u=o[0],c=o[1],p=n.useState(0),v=B(p,2),S=v[0],E=v[1],k=n.useState(),N=B(k,2),R=N[0],$=N[1],b=n.useRef();function L(d){var y=d.touches[0],f=y.screenX,g=y.screenY;l({x:f,y:g}),window.clearInterval(b.current)}function M(d){if(i){d.preventDefault();var y=d.touches[0],f=y.screenX,g=y.screenY;l({x:f,y:g});var C=f-i.x,x=g-i.y;t(C,x);var J=Date.now();c(J),E(J-u),$({x:C,y:x})}}function O(){if(i&&(l(null),$(null),R)){var d=R.x/S,y=R.y/S,f=Math.abs(d),g=Math.abs(y);if(Math.max(f,g)<Fa)return;var C=d,x=y;b.current=window.setInterval(function(){if(Math.abs(C)<mt&&Math.abs(x)<mt){window.clearInterval(b.current);return}C*=ft,x*=ft,t(C*Le,x*Le)},Le)}}var F=n.useRef();function D(d){var y=d.deltaX,f=d.deltaY,g=0,C=Math.abs(y),x=Math.abs(f);C===x?g=F.current==="x"?y:f:C>x?(g=y,F.current="x"):(g=f,F.current="y"),t(-g,-g)&&d.preventDefault()}var T=n.useRef(null);T.current={onTouchStart:L,onTouchMove:M,onTouchEnd:O,onWheel:D},n.useEffect(function(){function d(C){T.current.onTouchStart(C)}function y(C){T.current.onTouchMove(C)}function f(C){T.current.onTouchEnd(C)}function g(C){T.current.onWheel(C)}return document.addEventListener("touchmove",y,{passive:!1}),document.addEventListener("touchend",f,{passive:!1}),e.current.addEventListener("touchstart",d,{passive:!1}),e.current.addEventListener("wheel",g),function(){document.removeEventListener("touchmove",y),document.removeEventListener("touchend",f)}},[])}function Rt(e){var t=n.useState(0),r=B(t,2),a=r[0],i=r[1],l=n.useRef(0),s=n.useRef();return s.current=e,aa(function(){var o;(o=s.current)===null||o===void 0||o.call(s)},[a]),function(){l.current===a&&(l.current+=1,i(l.current))}}function Ha(e){var t=n.useRef([]),r=n.useState({}),a=B(r,2),i=a[1],l=n.useRef(typeof e=="function"?e():e),s=Rt(function(){var u=l.current;t.current.forEach(function(c){u=c(u)}),t.current=[],l.current=u,i({})});function o(u){t.current.push(u),s()}return[l.current,o]}var vt={width:0,height:0,left:0,top:0,right:0};function Ga(e,t,r,a,i,l,s){var o=s.tabs,u=s.tabPosition,c=s.rtl,p,v,S;return["top","bottom"].includes(u)?(p="width",v=c?"right":"left",S=Math.abs(r)):(p="height",v="top",S=-r),n.useMemo(function(){if(!o.length)return[0,0];for(var E=o.length,k=E,N=0;N<E;N+=1){var R=e.get(o[N].key)||vt;if(R[v]+R[p]>S+t){k=N-1;break}}for(var $=0,b=E-1;b>=0;b-=1){var L=e.get(o[b].key)||vt;if(L[v]<S){$=b+1;break}}return $>=k?[0,0]:[$,k]},[e,t,a,i,l,S,u,o.map(function(E){return E.key}).join("_"),c])}function pt(e){var t;return e instanceof Map?(t={},e.forEach(function(r,a){t[a]=r})):t=e,JSON.stringify(t)}var Va="TABS_DQ";function It(e){return String(e).replace(/"/g,Va)}function Lt(e,t,r,a){return!(!r||a||e===!1||e===void 0&&(t===!1||t===null))}var Mt=n.forwardRef(function(e,t){var r=e.prefixCls,a=e.editable,i=e.locale,l=e.style;return!a||a.showAdd===!1?null:n.createElement("button",{ref:t,type:"button",className:"".concat(r,"-nav-add"),style:l,"aria-label":(i==null?void 0:i.addAriaLabel)||"Add tab",onClick:function(o){a.onEdit("add",{event:o})}},a.addIcon||"+")}),bt=n.forwardRef(function(e,t){var r=e.position,a=e.prefixCls,i=e.extra;if(!i)return null;var l,s={};return Ge(i)==="object"&&!n.isValidElement(i)?s=i:s.right=i,r==="right"&&(l=s.right),r==="left"&&(l=s.left),l?n.createElement("div",{className:"".concat(a,"-extra-content"),ref:t},l):null}),Ka=n.forwardRef(function(e,t){var r=e.prefixCls,a=e.id,i=e.tabs,l=e.locale,s=e.mobile,o=e.more,u=o===void 0?{}:o,c=e.style,p=e.className,v=e.editable,S=e.tabBarGutter,E=e.rtl,k=e.removeAriaLabel,N=e.onTabClick,R=e.getPopupContainer,$=e.popupClassName,b=n.useState(!1),L=B(b,2),M=L[0],O=L[1],F=n.useState(null),D=B(F,2),T=D[0],d=D[1],y=u.icon,f=y===void 0?"More":y,g="".concat(a,"-more-popup"),C="".concat(r,"-dropdown"),x=T!==null?"".concat(g,"-").concat(T):null,J=l==null?void 0:l.dropdownAriaLabel;function de(I,j){I.preventDefault(),I.stopPropagation(),v.onEdit("remove",{key:j,event:I})}var _=n.createElement(ra,{onClick:function(j){var K=j.key,U=j.domEvent;N(K,U),O(!1)},prefixCls:"".concat(C,"-menu"),id:g,tabIndex:-1,role:"listbox","aria-activedescendant":x,selectedKeys:[T],"aria-label":J!==void 0?J:"expanded dropdown"},i.map(function(I){var j=I.closable,K=I.disabled,U=I.closeIcon,Y=I.key,re=I.label,te=Lt(j,U,v,K);return n.createElement(na,{key:Y,id:"".concat(g,"-").concat(Y),role:"option","aria-controls":a&&"".concat(a,"-panel-").concat(Y),disabled:K},n.createElement("span",null,re),te&&n.createElement("button",{type:"button","aria-label":k||"remove",tabIndex:0,className:"".concat(C,"-menu-item-remove"),onClick:function(me){me.stopPropagation(),de(me,Y)}},U||v.removeIcon||"×"))}));function X(I){for(var j=i.filter(function(te){return!te.disabled}),K=j.findIndex(function(te){return te.key===T})||0,U=j.length,Y=0;Y<U;Y+=1){K=(K+I+U)%U;var re=j[K];if(!re.disabled){d(re.key);return}}}function le(I){var j=I.which;if(!M){[ie.DOWN,ie.SPACE,ie.ENTER].includes(j)&&(O(!0),I.preventDefault());return}switch(j){case ie.UP:X(-1),I.preventDefault();break;case ie.DOWN:X(1),I.preventDefault();break;case ie.ESC:O(!1);break;case ie.SPACE:case ie.ENTER:T!==null&&N(T,I);break}}n.useEffect(function(){var I=document.getElementById(x);I&&I.scrollIntoView&&I.scrollIntoView(!1)},[T]),n.useEffect(function(){M||d(null)},[M]);var V=Z({},E?"marginRight":"marginLeft",S);i.length||(V.visibility="hidden",V.order=1);var q=Q(Z({},"".concat(C,"-rtl"),E)),ue=s?null:n.createElement(ia,se({prefixCls:C,overlay:_,visible:i.length?M:!1,onVisibleChange:O,overlayClassName:Q(q,$),mouseEnterDelay:.1,mouseLeaveDelay:.1,getPopupContainer:R},u),n.createElement("button",{type:"button",className:"".concat(r,"-nav-more"),style:V,tabIndex:-1,"aria-hidden":"true","aria-haspopup":"listbox","aria-controls":g,id:"".concat(a,"-more"),"aria-expanded":M,onKeyDown:le},f));return n.createElement("div",{className:Q("".concat(r,"-nav-operations"),p),style:c,ref:t},ue,n.createElement(Mt,{prefixCls:r,locale:l,editable:v}))});const Xa=n.memo(Ka,function(e,t){return t.tabMoving});var Ua=function(t){var r=t.prefixCls,a=t.id,i=t.active,l=t.tab,s=l.key,o=l.label,u=l.disabled,c=l.closeIcon,p=l.icon,v=t.closable,S=t.renderWrapper,E=t.removeAriaLabel,k=t.editable,N=t.onClick,R=t.onFocus,$=t.style,b="".concat(r,"-tab"),L=Lt(v,c,k,u);function M(T){u||N(T)}function O(T){T.preventDefault(),T.stopPropagation(),k.onEdit("remove",{key:s,event:T})}var F=n.useMemo(function(){return p&&typeof o=="string"?n.createElement("span",null,o):o},[o,p]),D=n.createElement("div",{key:s,"data-node-key":It(s),className:Q(b,Z(Z(Z({},"".concat(b,"-with-remove"),L),"".concat(b,"-active"),i),"".concat(b,"-disabled"),u)),style:$,onClick:M},n.createElement("div",{role:"tab","aria-selected":i,id:a&&"".concat(a,"-tab-").concat(s),className:"".concat(b,"-btn"),"aria-controls":a&&"".concat(a,"-panel-").concat(s),"aria-disabled":u,tabIndex:u?null:0,onClick:function(d){d.stopPropagation(),M(d)},onKeyDown:function(d){[ie.SPACE,ie.ENTER].includes(d.which)&&(d.preventDefault(),M(d))},onFocus:R},p&&n.createElement("span",{className:"".concat(b,"-icon")},p),o&&F),L&&n.createElement("button",{type:"button","aria-label":E||"remove",tabIndex:0,className:"".concat(b,"-remove"),onClick:function(d){d.stopPropagation(),O(d)}},c||k.removeIcon||"×"));return S?S(D):D},qa=function(t,r){var a=t.offsetWidth,i=t.offsetHeight,l=t.offsetTop,s=t.offsetLeft,o=t.getBoundingClientRect(),u=o.width,c=o.height,p=o.x,v=o.y;return Math.abs(u-a)<1?[u,c,p-r.x,v-r.y]:[a,i,s,l]},$e=function(t){var r=t.current||{},a=r.offsetWidth,i=a===void 0?0:a,l=r.offsetHeight,s=l===void 0?0:l;if(t.current){var o=t.current.getBoundingClientRect(),u=o.width,c=o.height;if(Math.abs(u-i)<1)return[u,c]}return[i,s]},Re=function(t,r){return t[r?0:1]},ht=n.forwardRef(function(e,t){var r=e.className,a=e.style,i=e.id,l=e.animated,s=e.activeKey,o=e.rtl,u=e.extra,c=e.editable,p=e.locale,v=e.tabPosition,S=e.tabBarGutter,E=e.children,k=e.onTabClick,N=e.onTabScroll,R=e.indicator,$=n.useContext(ze),b=$.prefixCls,L=$.tabs,M=n.useRef(null),O=n.useRef(null),F=n.useRef(null),D=n.useRef(null),T=n.useRef(null),d=n.useRef(null),y=n.useRef(null),f=v==="top"||v==="bottom",g=ut(0,function(A,P){f&&N&&N({direction:A>P?"left":"right"})}),C=B(g,2),x=C[0],J=C[1],de=ut(0,function(A,P){!f&&N&&N({direction:A>P?"top":"bottom"})}),_=B(de,2),X=_[0],le=_[1],V=n.useState([0,0]),q=B(V,2),ue=q[0],I=q[1],j=n.useState([0,0]),K=B(j,2),U=K[0],Y=K[1],re=n.useState([0,0]),te=B(re,2),ge=te[0],me=te[1],pe=n.useState([0,0]),ye=B(pe,2),z=ye[0],ce=ye[1],Se=Ha(new Map),Ve=B(Se,2),At=Ve[0],Dt=Ve[1],_e=ja(L,At,U[0]),ke=Re(ue,f),Ce=Re(U,f),Be=Re(ge,f),Ke=Re(z,f),Xe=ke<Ce+Be,ne=Xe?ke-Ke:ke-Be,jt="".concat(b,"-nav-operations-hidden"),fe=0,be=0;f&&o?(fe=0,be=Math.max(0,Ce-ne)):(fe=Math.min(0,ne-Ce),be=0);function Oe(A){return A<fe?fe:A>be?be:A}var Ae=n.useRef(null),Ft=n.useState(),Ue=B(Ft,2),we=Ue[0],qe=Ue[1];function De(){qe(Date.now())}function je(){Ae.current&&clearTimeout(Ae.current)}Wa(D,function(A,P){function H(ee,he){ee(function(ve){var Ee=Oe(ve+he);return Ee})}return Xe?(f?H(J,A):H(le,P),je(),De(),!0):!1}),n.useEffect(function(){return je(),we&&(Ae.current=setTimeout(function(){qe(0)},100)),je},[we]);var Wt=Ga(_e,ne,f?x:X,Ce,Be,Ke,ae(ae({},e),{},{tabs:L})),Ye=B(Wt,2),Ht=Ye[0],Gt=Ye[1],Ze=oa(function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:s,P=_e.get(A)||{width:0,height:0,left:0,right:0,top:0};if(f){var H=x;o?P.right<x?H=P.right:P.right+P.width>x+ne&&(H=P.right+P.width-ne):P.left<-x?H=-P.left:P.left+P.width>-x+ne&&(H=-(P.left+P.width-ne)),le(0),J(Oe(H))}else{var ee=X;P.top<-X?ee=-P.top:P.top+P.height>-X+ne&&(ee=-(P.top+P.height-ne)),J(0),le(Oe(ee))}}),Te={};v==="top"||v==="bottom"?Te[o?"marginRight":"marginLeft"]=S:Te.marginTop=S;var Qe=L.map(function(A,P){var H=A.key;return n.createElement(Ua,{id:i,prefixCls:b,key:H,tab:A,style:P===0?void 0:Te,closable:A.closable,editable:c,active:H===s,renderWrapper:E,removeAriaLabel:p==null?void 0:p.removeAriaLabel,onClick:function(he){k(H,he)},onFocus:function(){Ze(H),De(),D.current&&(o||(D.current.scrollLeft=0),D.current.scrollTop=0)}})}),Je=function(){return Dt(function(){var P,H=new Map,ee=(P=T.current)===null||P===void 0?void 0:P.getBoundingClientRect();return L.forEach(function(he){var ve,Ee=he.key,it=(ve=T.current)===null||ve===void 0?void 0:ve.querySelector('[data-node-key="'.concat(It(Ee),'"]'));if(it){var qt=qa(it,ee),Ne=B(qt,4),Yt=Ne[0],Zt=Ne[1],Qt=Ne[2],Jt=Ne[3];H.set(Ee,{width:Yt,height:Zt,left:Qt,top:Jt})}}),H})};n.useEffect(function(){Je()},[L.map(function(A){return A.key}).join("_")]);var Pe=Rt(function(){var A=$e(M),P=$e(O),H=$e(F);I([A[0]-P[0]-H[0],A[1]-P[1]-H[1]]);var ee=$e(y);me(ee);var he=$e(d);ce(he);var ve=$e(T);Y([ve[0]-ee[0],ve[1]-ee[1]]),Je()}),Vt=L.slice(0,Ht),Kt=L.slice(Gt+1),et=[].concat(st(Vt),st(Kt)),tt=_e.get(s),Xt=Da({activeTabOffset:tt,horizontal:f,indicator:R,rtl:o}),Ut=Xt.style;n.useEffect(function(){Ze()},[s,fe,be,pt(tt),pt(_e),f]),n.useEffect(function(){Pe()},[o]);var at=!!et.length,xe="".concat(b,"-nav-wrap"),Fe,We,rt,nt;return f?o?(We=x>0,Fe=x!==be):(Fe=x<0,We=x!==fe):(rt=X<0,nt=X!==fe),n.createElement(He,{onResize:Pe},n.createElement("div",{ref:la(t,M),role:"tablist",className:Q("".concat(b,"-nav"),r),style:a,onKeyDown:function(){De()}},n.createElement(bt,{ref:O,position:"left",extra:u,prefixCls:b}),n.createElement(He,{onResize:Pe},n.createElement("div",{className:Q(xe,Z(Z(Z(Z({},"".concat(xe,"-ping-left"),Fe),"".concat(xe,"-ping-right"),We),"".concat(xe,"-ping-top"),rt),"".concat(xe,"-ping-bottom"),nt)),ref:D},n.createElement(He,{onResize:Pe},n.createElement("div",{ref:T,className:"".concat(b,"-nav-list"),style:{transform:"translate(".concat(x,"px, ").concat(X,"px)"),transition:we?"none":void 0}},Qe,n.createElement(Mt,{ref:y,prefixCls:b,locale:p,editable:c,style:ae(ae({},Qe.length===0?void 0:Te),{},{visibility:at?"hidden":null})}),n.createElement("div",{className:Q("".concat(b,"-ink-bar"),Z({},"".concat(b,"-ink-bar-animated"),l.inkBar)),style:Ut}))))),n.createElement(Xa,se({},e,{removeAriaLabel:p==null?void 0:p.removeAriaLabel,ref:d,prefixCls:b,tabs:et,className:!at&&jt,tabMoving:!!we})),n.createElement(bt,{ref:F,position:"right",extra:u,prefixCls:b})))}),zt=n.forwardRef(function(e,t){var r=e.prefixCls,a=e.className,i=e.style,l=e.id,s=e.active,o=e.tabKey,u=e.children;return n.createElement("div",{id:l&&"".concat(l,"-panel-").concat(o),role:"tabpanel",tabIndex:s?0:-1,"aria-labelledby":l&&"".concat(l,"-tab-").concat(o),"aria-hidden":!s,style:i,className:Q(r,s&&"".concat(r,"-active"),a),ref:t},u)}),Ya=["renderTabBar"],Za=["label","key"],Qa=function(t){var r=t.renderTabBar,a=Me(t,Ya),i=n.useContext(ze),l=i.tabs;if(r){var s=ae(ae({},a),{},{panes:l.map(function(o){var u=o.label,c=o.key,p=Me(o,Za);return n.createElement(zt,se({tab:u,key:c,tabKey:c},p))})});return r(s,ht)}return n.createElement(ht,a)},Ja=["key","forceRender","style","className","destroyInactiveTabPane"],er=function(t){var r=t.id,a=t.activeKey,i=t.animated,l=t.tabPosition,s=t.destroyInactiveTabPane,o=n.useContext(ze),u=o.prefixCls,c=o.tabs,p=i.tabPane,v="".concat(u,"-tabpane");return n.createElement("div",{className:Q("".concat(u,"-content-holder"))},n.createElement("div",{className:Q("".concat(u,"-content"),"".concat(u,"-content-").concat(l),Z({},"".concat(u,"-content-animated"),p))},c.map(function(S){var E=S.key,k=S.forceRender,N=S.style,R=S.className,$=S.destroyInactiveTabPane,b=Me(S,Ja),L=E===a;return n.createElement(ca,se({key:E,visible:L,forceRender:k,removeOnLeave:!!(s||$),leavedClassName:"".concat(v,"-hidden")},i.tabPaneMotion),function(M,O){var F=M.style,D=M.className;return n.createElement(zt,se({},b,{prefixCls:v,id:r,tabKey:E,animated:p,active:L,style:ae(ae({},N),F),className:Q(R,D),ref:O}))})})))};function tr(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{inkBar:!0,tabPane:!1},t;return e===!1?t={inkBar:!1,tabPane:!1}:e===!0?t={inkBar:!0,tabPane:!1}:t=ae({inkBar:!0},Ge(e)==="object"?e:{}),t.tabPaneMotion&&t.tabPane===void 0&&(t.tabPane=!0),!t.tabPaneMotion&&t.tabPane&&(t.tabPane=!1),t}var ar=["id","prefixCls","className","items","direction","activeKey","defaultActiveKey","editable","animated","tabPosition","tabBarGutter","tabBarStyle","tabBarExtraContent","locale","more","destroyInactiveTabPane","renderTabBar","onChange","onTabClick","onTabScroll","getPopupContainer","popupClassName","indicator"],gt=0,rr=n.forwardRef(function(e,t){var r=e.id,a=e.prefixCls,i=a===void 0?"rc-tabs":a,l=e.className,s=e.items,o=e.direction,u=e.activeKey,c=e.defaultActiveKey,p=e.editable,v=e.animated,S=e.tabPosition,E=S===void 0?"top":S,k=e.tabBarGutter,N=e.tabBarStyle,R=e.tabBarExtraContent,$=e.locale,b=e.more,L=e.destroyInactiveTabPane,M=e.renderTabBar,O=e.onChange,F=e.onTabClick,D=e.onTabScroll,T=e.getPopupContainer,d=e.popupClassName,y=e.indicator,f=Me(e,ar),g=n.useMemo(function(){return(s||[]).filter(function(z){return z&&Ge(z)==="object"&&"key"in z})},[s]),C=o==="rtl",x=tr(v),J=n.useState(!1),de=B(J,2),_=de[0],X=de[1];n.useEffect(function(){X(sa())},[]);var le=lt(function(){var z;return(z=g[0])===null||z===void 0?void 0:z.key},{value:u,defaultValue:c}),V=B(le,2),q=V[0],ue=V[1],I=n.useState(function(){return g.findIndex(function(z){return z.key===q})}),j=B(I,2),K=j[0],U=j[1];n.useEffect(function(){var z=g.findIndex(function(Se){return Se.key===q});if(z===-1){var ce;z=Math.max(0,Math.min(K,g.length-1)),ue((ce=g[z])===null||ce===void 0?void 0:ce.key)}U(z)},[g.map(function(z){return z.key}).join("_"),q,K]);var Y=lt(null,{value:r}),re=B(Y,2),te=re[0],ge=re[1];n.useEffect(function(){r||(ge("rc-tabs-".concat(gt)),gt+=1)},[]);function me(z,ce){F==null||F(z,ce);var Se=z!==q;ue(z),Se&&(O==null||O(z))}var pe={id:te,activeKey:q,animated:x,tabPosition:E,rtl:C,mobile:_},ye=ae(ae({},pe),{},{editable:p,locale:$,more:b,tabBarGutter:k,onTabClick:me,onTabScroll:D,extra:R,style:N,panes:null,getPopupContainer:T,popupClassName:d,indicator:y});return n.createElement(ze.Provider,{value:{tabs:g,prefixCls:i}},n.createElement("div",se({ref:t,id:r,className:Q(i,"".concat(i,"-").concat(E),Z(Z(Z({},"".concat(i,"-mobile"),_),"".concat(i,"-editable"),p),"".concat(i,"-rtl"),C),l)},f),n.createElement(Qa,se({},ye,{renderTabBar:M})),n.createElement(er,se({destroyInactiveTabPane:L},pe,{animated:x}))))});const nr={motionAppear:!1,motionEnter:!0,motionLeave:!0};function ir(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{inkBar:!0,tabPane:!1},r;return t===!1?r={inkBar:!1,tabPane:!1}:t===!0?r={inkBar:!0,tabPane:!0}:r=Object.assign({inkBar:!0},typeof t=="object"?t:{}),r.tabPane&&(r.tabPaneMotion=Object.assign(Object.assign({},nr),{motionName:da(e,"switch")})),r}var or=globalThis&&globalThis.__rest||function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,a=Object.getOwnPropertySymbols(e);i<a.length;i++)t.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(e,a[i])&&(r[a[i]]=e[a[i]]);return r};function lr(e){return e.filter(t=>t)}function cr(e,t){if(e)return e;const r=ua(t).map(a=>{if(n.isValidElement(a)){const{key:i,props:l}=a,s=l||{},{tab:o}=s,u=or(s,["tab"]);return Object.assign(Object.assign({key:String(i)},u),{label:o})}return null});return lr(r)}const sr=e=>{const{componentCls:t,motionDurationSlow:r}=e;return[{[t]:{[`${t}-switch`]:{"&-appear, &-enter":{transition:"none","&-start":{opacity:0},"&-active":{opacity:1,transition:`opacity ${r}`}},"&-leave":{position:"absolute",transition:"none",inset:0,"&-start":{opacity:1},"&-active":{opacity:0,transition:`opacity ${r}`}}}}},[ct(e,"slide-up"),ct(e,"slide-down")]]},dr=sr,ur=e=>{const{componentCls:t,tabsCardPadding:r,cardBg:a,cardGutter:i,colorBorderSecondary:l,itemSelectedColor:s}=e;return{[`${t}-card`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab`]:{margin:0,padding:r,background:a,border:`${w(e.lineWidth)} ${e.lineType} ${l}`,transition:`all ${e.motionDurationSlow} ${e.motionEaseInOut}`},[`${t}-tab-active`]:{color:s,background:e.colorBgContainer},[`${t}-ink-bar`]:{visibility:"hidden"}},[`&${t}-top, &${t}-bottom`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab + ${t}-tab`]:{marginLeft:{_skip_check_:!0,value:w(i)}}}},[`&${t}-top`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab`]:{borderRadius:`${w(e.borderRadiusLG)} ${w(e.borderRadiusLG)} 0 0`},[`${t}-tab-active`]:{borderBottomColor:e.colorBgContainer}}},[`&${t}-bottom`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab`]:{borderRadius:`0 0 ${w(e.borderRadiusLG)} ${w(e.borderRadiusLG)}`},[`${t}-tab-active`]:{borderTopColor:e.colorBgContainer}}},[`&${t}-left, &${t}-right`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab + ${t}-tab`]:{marginTop:w(i)}}},[`&${t}-left`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab`]:{borderRadius:{_skip_check_:!0,value:`${w(e.borderRadiusLG)} 0 0 ${w(e.borderRadiusLG)}`}},[`${t}-tab-active`]:{borderRightColor:{_skip_check_:!0,value:e.colorBgContainer}}}},[`&${t}-right`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab`]:{borderRadius:{_skip_check_:!0,value:`0 ${w(e.borderRadiusLG)} ${w(e.borderRadiusLG)} 0`}},[`${t}-tab-active`]:{borderLeftColor:{_skip_check_:!0,value:e.colorBgContainer}}}}}}},mr=e=>{const{componentCls:t,itemHoverColor:r,dropdownEdgeChildVerticalPadding:a}=e;return{[`${t}-dropdown`]:Object.assign(Object.assign({},yt(e)),{position:"absolute",top:-9999,left:{_skip_check_:!0,value:-9999},zIndex:e.zIndexPopup,display:"block","&-hidden":{display:"none"},[`${t}-dropdown-menu`]:{maxHeight:e.tabsDropdownHeight,margin:0,padding:`${w(a)} 0`,overflowX:"hidden",overflowY:"auto",textAlign:{_skip_check_:!0,value:"left"},listStyleType:"none",backgroundColor:e.colorBgContainer,backgroundClip:"padding-box",borderRadius:e.borderRadiusLG,outline:"none",boxShadow:e.boxShadowSecondary,"&-item":Object.assign(Object.assign({},va),{display:"flex",alignItems:"center",minWidth:e.tabsDropdownWidth,margin:0,padding:`${w(e.paddingXXS)} ${w(e.paddingSM)}`,color:e.colorText,fontWeight:"normal",fontSize:e.fontSize,lineHeight:e.lineHeight,cursor:"pointer",transition:`all ${e.motionDurationSlow}`,"> span":{flex:1,whiteSpace:"nowrap"},"&-remove":{flex:"none",marginLeft:{_skip_check_:!0,value:e.marginSM},color:e.colorTextDescription,fontSize:e.fontSizeSM,background:"transparent",border:0,cursor:"pointer","&:hover":{color:r}},"&:hover":{background:e.controlItemBgHover},"&-disabled":{"&, &:hover":{color:e.colorTextDisabled,background:"transparent",cursor:"not-allowed"}}})}})}},fr=e=>{const{componentCls:t,margin:r,colorBorderSecondary:a,horizontalMargin:i,verticalItemPadding:l,verticalItemMargin:s,calc:o}=e;return{[`${t}-top, ${t}-bottom`]:{flexDirection:"column",[`> ${t}-nav, > div > ${t}-nav`]:{margin:i,"&::before":{position:"absolute",right:{_skip_check_:!0,value:0},left:{_skip_check_:!0,value:0},borderBottom:`${w(e.lineWidth)} ${e.lineType} ${a}`,content:"''"},[`${t}-ink-bar`]:{height:e.lineWidthBold,"&-animated":{transition:`width ${e.motionDurationSlow}, left ${e.motionDurationSlow},
            right ${e.motionDurationSlow}`}},[`${t}-nav-wrap`]:{"&::before, &::after":{top:0,bottom:0,width:e.controlHeight},"&::before":{left:{_skip_check_:!0,value:0},boxShadow:e.boxShadowTabsOverflowLeft},"&::after":{right:{_skip_check_:!0,value:0},boxShadow:e.boxShadowTabsOverflowRight},[`&${t}-nav-wrap-ping-left::before`]:{opacity:1},[`&${t}-nav-wrap-ping-right::after`]:{opacity:1}}}},[`${t}-top`]:{[`> ${t}-nav,
        > div > ${t}-nav`]:{"&::before":{bottom:0},[`${t}-ink-bar`]:{bottom:0}}},[`${t}-bottom`]:{[`> ${t}-nav, > div > ${t}-nav`]:{order:1,marginTop:r,marginBottom:0,"&::before":{top:0},[`${t}-ink-bar`]:{top:0}},[`> ${t}-content-holder, > div > ${t}-content-holder`]:{order:0}},[`${t}-left, ${t}-right`]:{[`> ${t}-nav, > div > ${t}-nav`]:{flexDirection:"column",minWidth:o(e.controlHeight).mul(1.25).equal(),[`${t}-tab`]:{padding:l,textAlign:"center"},[`${t}-tab + ${t}-tab`]:{margin:s},[`${t}-nav-wrap`]:{flexDirection:"column","&::before, &::after":{right:{_skip_check_:!0,value:0},left:{_skip_check_:!0,value:0},height:e.controlHeight},"&::before":{top:0,boxShadow:e.boxShadowTabsOverflowTop},"&::after":{bottom:0,boxShadow:e.boxShadowTabsOverflowBottom},[`&${t}-nav-wrap-ping-top::before`]:{opacity:1},[`&${t}-nav-wrap-ping-bottom::after`]:{opacity:1}},[`${t}-ink-bar`]:{width:e.lineWidthBold,"&-animated":{transition:`height ${e.motionDurationSlow}, top ${e.motionDurationSlow}`}},[`${t}-nav-list, ${t}-nav-operations`]:{flex:"1 0 auto",flexDirection:"column"}}},[`${t}-left`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-ink-bar`]:{right:{_skip_check_:!0,value:0}}},[`> ${t}-content-holder, > div > ${t}-content-holder`]:{marginLeft:{_skip_check_:!0,value:w(o(e.lineWidth).mul(-1).equal())},borderLeft:{_skip_check_:!0,value:`${w(e.lineWidth)} ${e.lineType} ${e.colorBorder}`},[`> ${t}-content > ${t}-tabpane`]:{paddingLeft:{_skip_check_:!0,value:e.paddingLG}}}},[`${t}-right`]:{[`> ${t}-nav, > div > ${t}-nav`]:{order:1,[`${t}-ink-bar`]:{left:{_skip_check_:!0,value:0}}},[`> ${t}-content-holder, > div > ${t}-content-holder`]:{order:0,marginRight:{_skip_check_:!0,value:o(e.lineWidth).mul(-1).equal()},borderRight:{_skip_check_:!0,value:`${w(e.lineWidth)} ${e.lineType} ${e.colorBorder}`},[`> ${t}-content > ${t}-tabpane`]:{paddingRight:{_skip_check_:!0,value:e.paddingLG}}}}}},vr=e=>{const{componentCls:t,cardPaddingSM:r,cardPaddingLG:a,horizontalItemPaddingSM:i,horizontalItemPaddingLG:l}=e;return{[t]:{"&-small":{[`> ${t}-nav`]:{[`${t}-tab`]:{padding:i,fontSize:e.titleFontSizeSM}}},"&-large":{[`> ${t}-nav`]:{[`${t}-tab`]:{padding:l,fontSize:e.titleFontSizeLG}}}},[`${t}-card`]:{[`&${t}-small`]:{[`> ${t}-nav`]:{[`${t}-tab`]:{padding:r}},[`&${t}-bottom`]:{[`> ${t}-nav ${t}-tab`]:{borderRadius:`0 0 ${w(e.borderRadius)} ${w(e.borderRadius)}`}},[`&${t}-top`]:{[`> ${t}-nav ${t}-tab`]:{borderRadius:`${w(e.borderRadius)} ${w(e.borderRadius)} 0 0`}},[`&${t}-right`]:{[`> ${t}-nav ${t}-tab`]:{borderRadius:{_skip_check_:!0,value:`0 ${w(e.borderRadius)} ${w(e.borderRadius)} 0`}}},[`&${t}-left`]:{[`> ${t}-nav ${t}-tab`]:{borderRadius:{_skip_check_:!0,value:`${w(e.borderRadius)} 0 0 ${w(e.borderRadius)}`}}}},[`&${t}-large`]:{[`> ${t}-nav`]:{[`${t}-tab`]:{padding:a}}}}}},pr=e=>{const{componentCls:t,itemActiveColor:r,itemHoverColor:a,iconCls:i,tabsHorizontalItemMargin:l,horizontalItemPadding:s,itemSelectedColor:o,itemColor:u}=e,c=`${t}-tab`;return{[c]:{position:"relative",WebkitTouchCallout:"none",WebkitTapHighlightColor:"transparent",display:"inline-flex",alignItems:"center",padding:s,fontSize:e.titleFontSize,background:"transparent",border:0,outline:"none",cursor:"pointer",color:u,"&-btn, &-remove":Object.assign({"&:focus:not(:focus-visible), &:active":{color:r}},$t(e)),"&-btn":{outline:"none",transition:`all ${e.motionDurationSlow}`,[`${c}-icon:not(:last-child)`]:{marginInlineEnd:e.marginSM}},"&-remove":{flex:"none",marginRight:{_skip_check_:!0,value:e.calc(e.marginXXS).mul(-1).equal()},marginLeft:{_skip_check_:!0,value:e.marginXS},color:e.colorTextDescription,fontSize:e.fontSizeSM,background:"transparent",border:"none",outline:"none",cursor:"pointer",transition:`all ${e.motionDurationSlow}`,"&:hover":{color:e.colorTextHeading}},"&:hover":{color:a},[`&${c}-active ${c}-btn`]:{color:o,textShadow:e.tabsActiveTextShadow},[`&${c}-disabled`]:{color:e.colorTextDisabled,cursor:"not-allowed"},[`&${c}-disabled ${c}-btn, &${c}-disabled ${t}-remove`]:{"&:focus, &:active":{color:e.colorTextDisabled}},[`& ${c}-remove ${i}`]:{margin:0},[`${i}:not(:last-child)`]:{marginRight:{_skip_check_:!0,value:e.marginSM}}},[`${c} + ${c}`]:{margin:{_skip_check_:!0,value:l}}}},br=e=>{const{componentCls:t,tabsHorizontalItemMarginRTL:r,iconCls:a,cardGutter:i,calc:l}=e;return{[`${t}-rtl`]:{direction:"rtl",[`${t}-nav`]:{[`${t}-tab`]:{margin:{_skip_check_:!0,value:r},[`${t}-tab:last-of-type`]:{marginLeft:{_skip_check_:!0,value:0}},[a]:{marginRight:{_skip_check_:!0,value:0},marginLeft:{_skip_check_:!0,value:w(e.marginSM)}},[`${t}-tab-remove`]:{marginRight:{_skip_check_:!0,value:w(e.marginXS)},marginLeft:{_skip_check_:!0,value:w(l(e.marginXXS).mul(-1).equal())},[a]:{margin:0}}}},[`&${t}-left`]:{[`> ${t}-nav`]:{order:1},[`> ${t}-content-holder`]:{order:0}},[`&${t}-right`]:{[`> ${t}-nav`]:{order:0},[`> ${t}-content-holder`]:{order:1}},[`&${t}-card${t}-top, &${t}-card${t}-bottom`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab + ${t}-tab`]:{marginRight:{_skip_check_:!0,value:i},marginLeft:{_skip_check_:!0,value:0}}}}},[`${t}-dropdown-rtl`]:{direction:"rtl"},[`${t}-menu-item`]:{[`${t}-dropdown-rtl`]:{textAlign:{_skip_check_:!0,value:"right"}}}}},hr=e=>{const{componentCls:t,tabsCardPadding:r,cardHeight:a,cardGutter:i,itemHoverColor:l,itemActiveColor:s,colorBorderSecondary:o}=e;return{[t]:Object.assign(Object.assign(Object.assign(Object.assign({},yt(e)),{display:"flex",[`> ${t}-nav, > div > ${t}-nav`]:{position:"relative",display:"flex",flex:"none",alignItems:"center",[`${t}-nav-wrap`]:{position:"relative",display:"flex",flex:"auto",alignSelf:"stretch",overflow:"hidden",whiteSpace:"nowrap",transform:"translate(0)","&::before, &::after":{position:"absolute",zIndex:1,opacity:0,transition:`opacity ${e.motionDurationSlow}`,content:"''",pointerEvents:"none"}},[`${t}-nav-list`]:{position:"relative",display:"flex",transition:`opacity ${e.motionDurationSlow}`},[`${t}-nav-operations`]:{display:"flex",alignSelf:"stretch"},[`${t}-nav-operations-hidden`]:{position:"absolute",visibility:"hidden",pointerEvents:"none"},[`${t}-nav-more`]:{position:"relative",padding:r,background:"transparent",border:0,color:e.colorText,"&::after":{position:"absolute",right:{_skip_check_:!0,value:0},bottom:0,left:{_skip_check_:!0,value:0},height:e.calc(e.controlHeightLG).div(8).equal(),transform:"translateY(100%)",content:"''"}},[`${t}-nav-add`]:Object.assign({minWidth:a,minHeight:a,marginLeft:{_skip_check_:!0,value:i},padding:`0 ${w(e.paddingXS)}`,background:"transparent",border:`${w(e.lineWidth)} ${e.lineType} ${o}`,borderRadius:`${w(e.borderRadiusLG)} ${w(e.borderRadiusLG)} 0 0`,outline:"none",cursor:"pointer",color:e.colorText,transition:`all ${e.motionDurationSlow} ${e.motionEaseInOut}`,"&:hover":{color:l},"&:active, &:focus:not(:focus-visible)":{color:s}},$t(e))},[`${t}-extra-content`]:{flex:"none"},[`${t}-ink-bar`]:{position:"absolute",background:e.inkBarColor,pointerEvents:"none"}}),pr(e)),{[`${t}-content`]:{position:"relative",width:"100%"},[`${t}-content-holder`]:{flex:"auto",minWidth:0,minHeight:0},[`${t}-tabpane`]:{outline:"none","&-hidden":{display:"none"}}}),[`${t}-centered`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-nav-wrap`]:{[`&:not([class*='${t}-nav-wrap-ping'])`]:{justifyContent:"center"}}}}}},gr=e=>{const t=e.controlHeightLG;return{zIndexPopup:e.zIndexPopupBase+50,cardBg:e.colorFillAlter,cardHeight:t,cardPadding:`${(t-Math.round(e.fontSize*e.lineHeight))/2-e.lineWidth}px ${e.padding}px`,cardPaddingSM:`${e.paddingXXS*1.5}px ${e.padding}px`,cardPaddingLG:`${e.paddingXS}px ${e.padding}px ${e.paddingXXS*1.5}px`,titleFontSize:e.fontSize,titleFontSizeLG:e.fontSizeLG,titleFontSizeSM:e.fontSize,inkBarColor:e.colorPrimary,horizontalMargin:`0 0 ${e.margin}px 0`,horizontalItemGutter:32,horizontalItemMargin:"",horizontalItemMarginRTL:"",horizontalItemPadding:`${e.paddingSM}px 0`,horizontalItemPaddingSM:`${e.paddingXS}px 0`,horizontalItemPaddingLG:`${e.padding}px 0`,verticalItemPadding:`${e.paddingXS}px ${e.paddingLG}px`,verticalItemMargin:`${e.margin}px 0 0 0`,itemColor:e.colorText,itemSelectedColor:e.colorPrimary,itemHoverColor:e.colorPrimaryHover,itemActiveColor:e.colorPrimaryActive,cardGutter:e.marginXXS/2}},yr=ma("Tabs",e=>{const t=fa(e,{tabsCardPadding:e.cardPadding,dropdownEdgeChildVerticalPadding:e.paddingXXS,tabsActiveTextShadow:"0 0 0.25px currentcolor",tabsDropdownHeight:200,tabsDropdownWidth:120,tabsHorizontalItemMargin:`0 0 0 ${w(e.horizontalItemGutter)}`,tabsHorizontalItemMarginRTL:`0 0 0 ${w(e.horizontalItemGutter)}`});return[vr(t),br(t),fr(t),mr(t),ur(t),hr(t),dr(t)]},gr),$r=()=>null,Sr=$r;var Cr=globalThis&&globalThis.__rest||function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,a=Object.getOwnPropertySymbols(e);i<a.length;i++)t.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(e,a[i])&&(r[a[i]]=e[a[i]]);return r};const kt=e=>{var t,r,a,i,l,s,o,u,c,p,v;const{type:S,className:E,rootClassName:k,size:N,onEdit:R,hideAdd:$,centered:b,addIcon:L,removeIcon:M,moreIcon:O,more:F,popupClassName:D,children:T,items:d,animated:y,style:f,indicatorSize:g,indicator:C}=e,x=Cr(e,["type","className","rootClassName","size","onEdit","hideAdd","centered","addIcon","removeIcon","moreIcon","more","popupClassName","children","items","animated","style","indicatorSize","indicator"]),{prefixCls:J}=x,{direction:de,tabs:_,getPrefixCls:X,getPopupContainer:le}=n.useContext(pa),V=X("tabs",J),q=ba(V),[ue,I,j]=yr(V,q);let K;S==="editable-card"&&(K={onEdit:(pe,ye)=>{let{key:z,event:ce}=ye;R==null||R(pe==="add"?ce:z,pe)},removeIcon:(t=M??(_==null?void 0:_.removeIcon))!==null&&t!==void 0?t:n.createElement(ha,null),addIcon:(L??(_==null?void 0:_.addIcon))||n.createElement(Aa,null),showAdd:$!==!0});const U=X(),Y=ga(N),re=cr(d,T),te=ir(V,y),ge=Object.assign(Object.assign({},_==null?void 0:_.style),f),me={align:(r=C==null?void 0:C.align)!==null&&r!==void 0?r:(a=_==null?void 0:_.indicator)===null||a===void 0?void 0:a.align,size:(o=(l=(i=C==null?void 0:C.size)!==null&&i!==void 0?i:g)!==null&&l!==void 0?l:(s=_==null?void 0:_.indicator)===null||s===void 0?void 0:s.size)!==null&&o!==void 0?o:_==null?void 0:_.indicatorSize};return ue(n.createElement(rr,Object.assign({direction:de,getPopupContainer:le},x,{items:re,className:Q({[`${V}-${Y}`]:Y,[`${V}-card`]:["card","editable-card"].includes(S),[`${V}-editable-card`]:S==="editable-card",[`${V}-centered`]:b},_==null?void 0:_.className,E,k,I,j,q),popupClassName:Q(D,I,j,q),style:ge,editable:K,more:Object.assign({icon:(v=(p=(c=(u=_==null?void 0:_.more)===null||u===void 0?void 0:u.icon)!==null&&c!==void 0?c:_==null?void 0:_.moreIcon)!==null&&p!==void 0?p:O)!==null&&v!==void 0?v:n.createElement(ya,null),transitionName:`${U}-slide-up`},F),prefixCls:V,animated:te,indicator:me})))};kt.TabPane=Sr;const xr=kt,_r=""+new URL("login_bg-629967c2.png",import.meta.url).href,wr="_login_1hixf_1",Bt={login:wr,"login-method-tab":"_login-method-tab_1hixf_5"},Ot=[{value:"+86",label:"+86"}],Tr=({loginMethod:e,setFormType:t,updateLoginMethod:r})=>{const a=Nt(),[i]=W.useForm(),{mutate:l,isLoading:s}=$a(),o=c=>{c.phoneNumber&&(_t(c.areaCode),wt(c.phoneNumber)),c.email&&Tt(c.email),c.password=Et(c.password??""),l(c,{onSuccess:p=>{const{chatToken:v,imToken:S,userID:E}=p.data;Pt({chatToken:v,imToken:S,userID:E}),a("/chat")}})},u=c=>{r(c)};return G(Ie,{children:[m("div",{className:"flex flex-row items-center justify-between",children:m("div",{className:"text-xl font-medium",children:h("placeholder.welcome")})}),m(xr,{className:Bt["login-method-tab"],activeKey:e,items:[{key:"phone",label:h("placeholder.phoneNumber")},{key:"email",label:h("placeholder.email")}],onChange:u}),G(W,{form:i,layout:"vertical",onFinish:o,autoComplete:"off",labelCol:{prefixCls:"custom-form-item"},initialValues:{areaCode:"+86",phoneNumber:Sa()??"",email:Ca()??""},children:[e==="phone"?m(W.Item,{label:h("placeholder.phoneNumber"),children:G(St.Compact,{className:"w-full",children:[m(W.Item,{name:"areaCode",noStyle:!0,children:m(Ct,{options:Ot,className:"!w-28"})}),m(W.Item,{name:"phoneNumber",noStyle:!0,children:m(oe,{allowClear:!0,placeholder:h("toast.inputPhoneNumber")})})]})}):m(W.Item,{label:h("placeholder.email"),name:"email",rules:[{type:"email",message:h("toast.inputCorrectEmail")}],children:m(oe,{allowClear:!0,placeholder:h("toast.inputEmail")})}),m(W.Item,{label:h("placeholder.password"),name:"password",children:m(oe.Password,{allowClear:!0,placeholder:h("toast.inputPassword")})}),m(W.Item,{className:"mb-4",children:m(xt,{type:"primary",htmlType:"submit",block:!0,loading:s,children:h("placeholder.login")})}),G("div",{className:"flex flex-row items-center justify-center",children:[m("span",{className:"text-sm text-gray-400",children:h("placeholder.registerToast")}),m("span",{className:"cursor-pointer text-sm text-blue-500",onClick:()=>t(2),children:h("placeholder.toRegister")})]})]})]})},Pr=({loginMethod:e,setFormType:t})=>{const{message:r}=xa.useApp(),[a]=W.useForm(),i=Nt(),{mutate:l}=_a(),{mutate:s}=wa(),{mutate:o}=Ta(),u=Pa(d=>Number(d.appConfig.needInvitationCodeRegister)===Ea.Allow),[c,p]=n.useState(0),[v,S]=n.useState(["","","","","",""]),E=n.useRef([]),k=(d,y)=>{const f=y.target.value,g=[...v];if(f.length===1)g[d]=f,S(g),d<v.length-1&&E.current[d+1].focus();else if(f.length===0){const x=[...v];x[d]="",S(x)}g.every(x=>x.length>0)&&a.submit()},N=(d,y)=>{const f=y.keyCode||y.which;if(f===8&&d>0){const g=[...v];g[d-1]="",S(g),E.current[d-1].focus()}if(f===8||f===46){const g=[...v];g[d]="",S(g)}},[R,$]=n.useState(0);n.useEffect(()=>{if(R>0){const d=setTimeout(()=>{$(y=>y-1),R===1&&(clearTimeout(d),$(0))},1e3);return()=>clearTimeout(d)}},[R]);const b=d=>{if(c===0){const f=/^1\d{10}$/;if(d.phoneNumber&&!f.test(d.phoneNumber))return r.error(h("toast.inputCorrectPhoneNumber"));l({usedFor:1,...d},{onSuccess(){$(60),p(1),setTimeout(()=>E.current[0].focus())}})}const y=v.join("");if(c===1){if(!y)return;s({...d,verifyCode:y,usedFor:1},{onSuccess(){p(2)}})}c===2&&(_t(d.areaCode),d.phoneNumber&&wt(d.phoneNumber),d.email&&Tt(d.email),o({verifyCode:y,autoLogin:!0,user:{nickname:d.nickname,faceURL:"",areaCode:d.areaCode,phoneNumber:d.phoneNumber,password:Et(d.password),email:d.email}},{onSuccess(f){r.success(h("toast.registerSuccess"));const{chatToken:g,imToken:C,userID:x}=f.data;Pt({chatToken:g,imToken:C,userID:x}),i("/chat")}}))},L=()=>{l({email:a.getFieldValue("email"),phoneNumber:a.getFieldValue("phoneNumber"),areaCode:a.getFieldValue("areaCode"),invitationCode:a.getFieldValue("invitationCode"),usedFor:1},{onSuccess(){$(60)}})},M=()=>{t(0),a.resetFields()},O=e==="email",F=O?"placeholder.verifyEmail":"placeholder.verifyPhoneNumber",D=O?a.getFieldValue("email"):`${a.getFieldValue("areaCode")} ${a.getFieldValue("phoneNumber")}`,T=!u&&c===0;return G("div",{className:"flex flex-col justify-between",children:[G("div",{className:"cursor-pointer text-sm text-gray-400",onClick:M,children:[m(Na,{rev:void 0}),m("span",{className:"ml-1",children:h("placeholder.getBack")})]}),G("div",{className:Ma("mt-4 text-2xl font-medium",T&&"mt-12"),children:[c===0&&m("span",{children:h("placeholder.register")}),c===1&&m("span",{children:h(F)}),c===2&&m("span",{children:h("placeholder.setInfo")})]}),G("div",{className:"mt-4 tracking-wider text-gray-400",hidden:c!==1,children:[m("span",{children:h("placeholder.pleaseEnterSendTo")}),m("span",{className:" text-blue-600",children:D}),m("span",{children:h("placeholder.verifyValidity")})]}),G(W,{form:a,layout:"vertical",labelCol:{prefixCls:"custom-form-item"},onFinish:b,autoComplete:"off",className:"mt-4",initialValues:{areaCode:"+86"},children:[e==="phone"?m(W.Item,{label:h("placeholder.phoneNumber"),hidden:c!==0,children:G(St.Compact,{className:"w-full",children:[m(W.Item,{name:"areaCode",noStyle:!0,children:m(Ct,{options:Ot,className:"!w-28"})}),m(W.Item,{name:"phoneNumber",noStyle:!0,children:m(oe,{allowClear:!0,placeholder:h("toast.inputPhoneNumber")})})]})}):m(W.Item,{label:h("placeholder.email"),name:"email",rules:[{type:"email",message:h("toast.inputCorrectEmail")}],hidden:c!==0,children:m(oe,{allowClear:!0,placeholder:h("toast.inputEmail")})}),c===0?u?m(W.Item,{className:"mb-24",label:h("placeholder.invitationCode"),name:"invitationCode",children:m(oe,{allowClear:!0,spellCheck:!1,placeholder:h("toast.inputInvitationCode"),className:"w-full"})}):m("div",{className:"h-12"}):null,G(W.Item,{label:"",hidden:c!==1,className:"mb-14 mt-8",children:[m("div",{className:"flex flex-row items-center justify-center",children:v.map((d,y)=>m(oe,{ref:f=>E.current[y]=f,type:"text",maxLength:1,value:d,onChange:f=>k(y,f),onKeyUp:f=>N(y,f),className:"mr-1 h-11 w-11 text-center text-2xl"},y))}),m("div",{className:"mt-4 text-gray-400",children:R>0?G(Ie,{children:[G("span",{className:" text-blue-500",children:[R,"s "]}),m("span",{children:h("placeholder.regain")+h("placeholder.verifyCode")})]}):G(Ie,{children:[m("span",{onClick:L,className:"cursor-pointer text-blue-500",children:h("placeholder.regain")}),m("span",{children:h("placeholder.verifyCode")})]})})]}),c===2&&G(Ie,{children:[m(W.Item,{label:h("placeholder.nickName"),name:"nickname",hidden:c!==2,rules:[{required:!0}],children:m(oe,{allowClear:!0,spellCheck:!1,placeholder:h("toast.inputNickName")})}),m(W.Item,{label:h("placeholder.password"),name:"password",rules:[{required:!0,pattern:/^(?=.*[0-9])(?=.*[a-zA-Z]).{6,20}$/,message:h("toast.passwordRules")}],children:m(oe.Password,{allowClear:!0,placeholder:h("toast.inputPassword")})}),m(W.Item,{label:h("placeholder.confirmPassword"),name:"password2",dependencies:["password"],rules:[{required:!0,message:h("toast.reconfirmPassword")},({getFieldValue:d})=>({validator(y,f){return!f||d("password")===f?Promise.resolve():Promise.reject(new Error(h("toast.passwordsDifferent")))}})],className:"mb-8",children:m(oe.Password,{allowClear:!0,placeholder:h("toast.reconfirmPassword")})})]}),m(W.Item,{children:m(xt,{type:"primary",htmlType:"submit",block:!0,children:c===2?h("confirm"):h("placeholder.nextStep")})})]})]})},Bo=()=>{const[e,t]=n.useState(0),[r,a]=n.useState(Ra()),i=n.useCallback(l=>{a(l),Ia(l)},[]);return G("div",{className:"relative flex h-full flex-col",children:[m("div",{className:"app-drag relative h-10 bg-[var(--top-search-bar)]",children:m(La,{})}),G("div",{className:"flex flex-1 items-center justify-center",children:[m(Er,{}),G("div",{className:`${Bt.login} mr-14 h-[450px] w-[350px] rounded-md p-11`,style:{boxShadow:"0 0 30px rgba(0,0,0,.1)"},children:[e===0&&m(Tr,{setFormType:t,loginMethod:r,updateLoginMethod:i}),e===2&&m(Pr,{loginMethod:r,setFormType:t})]})]})]})},Er=()=>m("div",{className:"flex min-h-[420]",children:G("div",{className:"mr-14 text-center",children:[m("div",{className:"text-2xl",children:h("placeholder.title")}),m("span",{className:"text-sm  text-gray-400",children:h("placeholder.subTitle")}),m("img",{src:_r,alt:"login_bg"})]})});export{Bo as Login};
