import{R as E}from"./react-dff1db10.js";import{u as b}from"./use-sync-external-store-21b41d34.js";const a=t=>{let e;const o=new Set,n=(s,c)=>{const r=typeof s=="function"?s(e):s;if(!Object.is(r,e)){const f=e;e=c??(typeof r!="object"||r===null)?r:Object.assign({},e,r),o.forEach(S=>S(e,f))}},i=()=>e,u={setState:n,getState:i,getInitialState:()=>d,subscribe:s=>(o.add(s),()=>o.delete(s)),destroy:()=>{o.clear()}},d=e=t(n,i,u);return u},p=t=>t?a(t):a,{useDebugValue:y}=E,{useSyncExternalStoreWithSelector:g}=b;const D=t=>t;function R(t,e=D,o){const n=g(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,o);return y(n),n}const l=t=>{const e=typeof t=="function"?p(t):t,o=(n,i)=>R(e,n,i);return Object.assign(o,e),o},w=t=>t?l(t):l;export{w as c};
