import{r as t}from"./react-dff1db10.js";import"./lodash.debounce-437ec0ef.js";function A(r,f){const[l,i]=t.useState(r);return t.useEffect(()=>{const o=setTimeout(()=>{i(r)},f??500);return()=>{clearTimeout(o)}},[r,f]),l}function D(r,f){var l;const i="current"in r,o=i?f:r,{threshold:b=0,root:y=null,rootMargin:m="0%",freezeOnceVisible:c=!1,initialIsIntersecting:v=!1}=o??{},[E,R]=t.useState(null),u=i?r.current:E,[e,S]=t.useState(()=>({isIntersecting:v,entry:void 0})),h=t.useRef();h.current=o==null?void 0:o.onChange;const d=((l=e.entry)==null?void 0:l.isIntersecting)&&c;t.useEffect(()=>{if(!u||!("IntersectionObserver"in window)||d)return;let s;const a=new IntersectionObserver(p=>{const O=Array.isArray(a.thresholds)?a.thresholds:[a.thresholds];p.forEach(g=>{const I=g.isIntersecting&&O.some(V=>g.intersectionRatio>=V);S({isIntersecting:I,entry:g}),h.current&&h.current(I,g),I&&c&&s&&(s(),s=void 0)})},{threshold:b,root:y,rootMargin:m});return a.observe(u),()=>{a.disconnect()}},[u,JSON.stringify(b),y,m,d,c]);const w=t.useRef(null);if(t.useEffect(()=>{var s;!u&&((s=e.entry)!=null&&s.target)&&!c&&!d&&w.current!==e.entry.target&&(w.current=e.entry.target,S({isIntersecting:v,entry:void 0}))},[u,e.entry,c,d,v]),i)return e.entry;const n=[R,!!e.isIntersecting,e.entry];return n.ref=n[0],n.isIntersecting=n[1],n.entry=n[2],n}export{A as a,D as u};
