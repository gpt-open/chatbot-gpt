import{s as N}from"./comma-separated-tokens-495b557e.js";import{o as p}from"./devlop-d057c9d1.js";import{s as f,h,f as g}from"./property-information-33d7f5d8.js";import{s as y}from"./space-separated-tokens-eedf1754.js";import{w as l}from"./web-namespaces-a6665c10.js";import{z as b}from"./zwitch-18fef54d.js";const x={},w={}.hasOwnProperty,u=b("type",{handlers:{root:O,element:q,text:L,comment:S,doctype:C}});function U(e,n){const s=(n||x).space;return u(e,s==="svg"?f:h)}function O(e,n){const t={nodeName:"#document",mode:(e.data||{}).quirksMode?"quirks":"no-quirks",childNodes:[]};return t.childNodes=c(e.children,t,n),a(e,t),t}function k(e,n){const t={nodeName:"#document-fragment",childNodes:[]};return t.childNodes=c(e.children,t,n),a(e,t),t}function C(e){const n={nodeName:"#documentType",name:"html",publicId:"",systemId:"",parentNode:null};return a(e,n),n}function L(e){const n={nodeName:"#text",value:e.value,parentNode:null};return a(e,n),n}function S(e){const n={nodeName:"#comment",data:e.value,parentNode:null};return a(e,n),n}function q(e,n){const t=n;let s=t;e.type==="element"&&e.tagName.toLowerCase()==="svg"&&t.space==="html"&&(s=f);const r=[];let o;if(e.properties){for(o in e.properties)if(o!=="children"&&w.call(e.properties,o)){const m=I(s,o,e.properties[o]);m&&r.push(m)}}const d=s.space,i={nodeName:e.tagName,tagName:e.tagName,attrs:r,namespaceURI:l[d],childNodes:[],parentNode:null};return i.childNodes=c(e.children,i,s),a(e,i),e.tagName==="template"&&e.content&&(i.content=k(e.content,s)),i}function I(e,n,t){const s=g(e,n);if(t===!1||t===null||t===void 0||typeof t=="number"&&Number.isNaN(t)||!t&&s.boolean)return;Array.isArray(t)&&(t=s.commaSeparated?N(t):y(t));const r={name:s.attribute,value:t===!0?"":String(t)};if(s.space&&s.space!=="html"&&s.space!=="svg"){const o=r.name.indexOf(":");o<0?r.prefix="":(r.name=r.name.slice(o+1),r.prefix=s.attribute.slice(0,o)),r.namespace=l[s.space]}return r}function c(e,n,t){let s=-1;const r=[];if(e)for(;++s<e.length;){const o=u(e[s],t);o.parentNode=n,r.push(o)}return r}function a(e,n){const t=e.position;t&&t.start&&t.end&&(p(typeof t.start.offset=="number"),p(typeof t.end.offset=="number"),n.sourceCodeLocation={startLine:t.start.line,startCol:t.start.column,startOffset:t.start.offset,endLine:t.end.line,endCol:t.end.column,endOffset:t.end.offset})}export{U as t};
