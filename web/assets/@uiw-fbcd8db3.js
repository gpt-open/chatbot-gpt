import{_ as b,a as n}from"./@babel-d99aad0a.js";import{j as d,r as y,R as c}from"./react-dff1db10.js";import{f as j}from"./rehype-prism-plus-f8916250.js";import{g as _,r as z}from"./rehype-rewrite-eb153844.js";import{r as T}from"./rehype-attr-f923984d.js";import{r as $}from"./remark-github-blockquote-alert-8cef172c.js";import{r as F}from"./remark-gfm-20e428bd.js";import{M as B}from"./react-markdown-f7386cc6.js";import{r as w}from"./rehype-raw-73b755a6.js";import{v as k}from"./unist-util-visit-4a8cdef4.js";import{r as O}from"./rehype-ignore-14d04115.js";import{r as I}from"./rehype-slug-66bdf6f7.js";import{r as G}from"./rehype-autolink-headings-df90c626.js";const de=d.Fragment,u=d.jsx,fe=d.jsxs;function U(t,a){if(typeof document>"u")return;const r=document.createElement("textarea");r.value=t,r.setAttribute("readonly",""),r.style={position:"absolute",left:"-9999px"},document.body.appendChild(r);const e=document.getSelection().rangeCount>0?document.getSelection().getRangeAt(0):!1;r.select();let l=!1;try{l=!!document.execCommand("copy")}catch{l=!1}document.body.removeChild(r),e&&document.getSelection&&(document.getSelection().removeAllRanges(),document.getSelection().addRange(e)),a&&a(l)}function M(t){if(!t)return null;var a=t;return a.dataset.code&&a.classList.contains("copied")?a:a.parentElement?M(a.parentElement):null}function W(t){var a=r=>{var e=M(r.target);e&&(e.classList.add("active"),U(e.dataset.code,function(){setTimeout(()=>{e.classList.remove("active")},2e3)}))};y.useEffect(()=>{var r,e;return(r=t.current)==null||r.removeEventListener("click",a,!1),(e=t.current)==null||e.addEventListener("click",a,!1),()=>{var l;(l=t.current)==null||l.removeEventListener("click",a,!1)}},[t])}var Z=["prefixCls","className","source","style","disableCopy","skipHtml","onScroll","onMouseOver","pluginsFilter","rehypeRewrite","wrapperElement","warpperElement","urlTransform"],q=t=>t;const D=c.forwardRef((t,a)=>{var{prefixCls:r="wmde-markdown wmde-markdown-color",className:e,source:l,style:i,disableCopy:f=!1,skipHtml:v=!0,onScroll:C,onMouseOver:N,pluginsFilter:o,wrapperElement:R={},warpperElement:x={},urlTransform:E}=t,s=b(t,Z),p=c.useRef(null);y.useImperativeHandle(a,()=>n({},t,{mdp:p}),[p,t]);var P=(r||"")+" "+(e||"");W(p);var m=[...s.rehypePlugins||[]],A={allowElement:(g,H,L)=>s.allowElement?s.allowElement(g,H,L):/^[A-Za-z0-9]+$/.test(g.tagName)};v&&m.push(w);var h=[$,...s.remarkPlugins||[],F],S=n({},x,R);return u("div",n({ref:p,onScroll:C,onMouseOver:N},S,{className:P,style:i,children:u(B,n({},A,s,{skipHtml:v,urlTransform:E||q,rehypePlugins:o?o("rehype",m):m,remarkPlugins:o?o("remark",h):h,children:l||""}))}))});var J=function(a){return r=>{k(r,e=>{e.type==="element"&&e.tagName==="code"&&e.data&&e.data.meta&&(e.properties=n({},e.properties,{"data-meta":String(e.data.meta)}))})}},K=function(a){return r=>{k(r,e=>{e.type==="element"&&e.tagName==="code"&&e.properties&&e.properties.dataMeta&&(e.data||(e.data={}),e.data.meta=e.properties.dataMeta,delete e.properties.dataMeta)})}},Q={type:"element",tagName:"svg",properties:{className:"octicon octicon-link",viewBox:"0 0 16 16",version:"1.1",width:"16",height:"16",ariaHidden:"true"},children:[{type:"element",tagName:"path",children:[],properties:{fillRule:"evenodd",d:"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"}}]};function V(t){return t===void 0&&(t=""),{type:"element",tagName:"div",properties:{class:"copied","data-code":t},children:[{type:"element",tagName:"svg",properties:{className:"octicon-copy",ariaHidden:"true",viewBox:"0 0 16 16",fill:"currentColor",height:12,width:12},children:[{type:"element",tagName:"path",properties:{fillRule:"evenodd",d:"M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"},children:[]},{type:"element",tagName:"path",properties:{fillRule:"evenodd",d:"M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"},children:[]}]},{type:"element",tagName:"svg",properties:{className:"octicon-check",ariaHidden:"true",viewBox:"0 0 16 16",fill:"currentColor",height:12,width:12},children:[{type:"element",tagName:"path",properties:{fillRule:"evenodd",d:"M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"},children:[]}]}]}}var X=(t,a)=>(r,e,l)=>{if(r.type==="element"&&l&&l.type==="root"&&/h(1|2|3|4|5|6)/.test(r.tagName)){var i=r.children&&r.children[0];i&&i.properties&&i.properties.ariaHidden==="true"&&(i.properties=n({class:"anchor"},i.properties),i.children=[Q])}if(r.type==="element"&&r.tagName==="pre"&&!t){var f=_(r.children);r.children.push(V(f))}a&&a(r,e===null?void 0:e,l===null?void 0:l)},Y=[I,G,O];const ve=c.forwardRef((t,a)=>{var r,e=[J,w,K,...Y,[z,{rewrite:X((r=t.disableCopy)!=null?r:!1,t.rehypeRewrite)}],[T,{properties:"attr"}],...t.rehypePlugins||[],[j,{ignoreMissing:!0}]];return u(D,n({},t,{rehypePlugins:e,ref:a}))});export{de as F,ve as M,fe as a,u as j};
