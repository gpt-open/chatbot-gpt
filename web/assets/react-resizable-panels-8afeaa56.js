import{a as Je}from"./react-dff1db10.js";const{createElement:ce,createContext:zn,createRef:Yn,forwardRef:je,useCallback:G,useContext:Oe,useEffect:re,useImperativeHandle:Ye,useLayoutEffect:xn,useMemo:vn,useRef:_,useState:he}=Je,Be=Je["useId".toString()],Sn=xn,Ee=zn(null);Ee.displayName="PanelGroupContext";const oe=Sn,Pn=typeof Be=="function"?Be:()=>null;let bn=0;function Ne(e=null){const n=Pn(),t=_(e||n||null);return t.current===null&&(t.current=""+bn++),e??t.current}function Ze({children:e,className:n="",collapsedSize:t,collapsible:r,defaultSize:i,forwardedRef:o,id:l,maxSize:a,minSize:s,onCollapse:p,onExpand:P,onResize:f,order:u,style:m,tagName:d="div",...E}){const w=Oe(Ee);if(w===null)throw Error("Panel components must be rendered within a PanelGroup container");const{collapsePanel:S,expandPanel:C,getPanelSize:$,getPanelStyle:k,groupId:L,isPanelCollapsed:y,reevaluatePanelConstraints:W,registerPanel:U,resizePanel:X,unregisterPanel:T}=w,F=Ne(l),A=_({callbacks:{onCollapse:p,onExpand:P,onResize:f},constraints:{collapsedSize:t,collapsible:r,defaultSize:i,maxSize:a,minSize:s},id:F,idIsFromProps:l!==void 0,order:u});_({didLogMissingDefaultSizeWarning:!1}),oe(()=>{const{callbacks:N,constraints:M}=A.current,H={...M};A.current.id=F,A.current.idIsFromProps=l!==void 0,A.current.order=u,N.onCollapse=p,N.onExpand=P,N.onResize=f,M.collapsedSize=t,M.collapsible=r,M.defaultSize=i,M.maxSize=a,M.minSize=s,(H.collapsedSize!==M.collapsedSize||H.collapsible!==M.collapsible||H.maxSize!==M.maxSize||H.minSize!==M.minSize)&&W(A.current,H)}),oe(()=>{const N=A.current;return U(N),()=>{T(N)}},[u,F,U,T]),Ye(o,()=>({collapse:()=>{S(A.current)},expand:N=>{C(A.current,N)},getId(){return F},getSize(){return $(A.current)},isCollapsed(){return y(A.current)},isExpanded(){return!y(A.current)},resize:N=>{X(A.current,N)}}),[S,C,$,y,F,X]);const Y=k(A.current,i);return ce(d,{...E,children:e,className:n,id:l,style:{...Y,...m},"data-panel":"","data-panel-collapsible":r||void 0,"data-panel-group-id":L,"data-panel-id":F,"data-panel-size":parseFloat(""+Y.flexGrow).toFixed(1)})}const wn=je((e,n)=>ce(Ze,{...e,forwardedRef:n}));Ze.displayName="Panel";wn.displayName="forwardRef(Panel)";let De=null,te=null;function En(e,n){if(n){const t=(n&rn)!==0,r=(n&on)!==0,i=(n&ln)!==0,o=(n&an)!==0;if(t)return i?"se-resize":o?"ne-resize":"e-resize";if(r)return i?"sw-resize":o?"nw-resize":"w-resize";if(i)return"s-resize";if(o)return"n-resize"}switch(e){case"horizontal":return"ew-resize";case"intersection":return"move";case"vertical":return"ns-resize"}}function Ln(){te!==null&&(document.head.removeChild(te),De=null,te=null)}function Me(e,n){const t=En(e,n);De!==t&&(De=t,te===null&&(te=document.createElement("style"),document.head.appendChild(te)),te.innerHTML=`*{cursor: ${t}!important;}`)}function Qe(e){return e.type==="keydown"}function en(e){return e.type.startsWith("pointer")}function nn(e){return e.type.startsWith("mouse")}function Le(e){if(en(e)){if(e.isPrimary)return{x:e.clientX,y:e.clientY}}else if(nn(e))return{x:e.clientX,y:e.clientY};return{x:1/0,y:1/0}}function Cn(){if(typeof matchMedia=="function")return matchMedia("(pointer:coarse)").matches?"coarse":"fine"}function In(e,n,t){return t?e.x<n.x+n.width&&e.x+e.width>n.x&&e.y<n.y+n.height&&e.y+e.height>n.y:e.x<=n.x+n.width&&e.x+e.width>=n.x&&e.y<=n.y+n.height&&e.y+e.height>=n.y}function Rn(e,n){if(e===n)throw new Error("Cannot compare node with itself");const t={a:We(e),b:We(n)};let r;for(;t.a.at(-1)===t.b.at(-1);)e=t.a.pop(),n=t.b.pop(),r=e;v(r,"Stacking order can only be calculated for elements with a common ancestor");const i={a:Ke(Fe(t.a)),b:Ke(Fe(t.b))};if(i.a===i.b){const o=r.childNodes,l={a:t.a.at(-1),b:t.b.at(-1)};let a=o.length;for(;a--;){const s=o[a];if(s===l.a)return 1;if(s===l.b)return-1}}return Math.sign(i.a-i.b)}const An=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/;function Mn(e){var n;const t=getComputedStyle((n=tn(e))!==null&&n!==void 0?n:e).display;return t==="flex"||t==="inline-flex"}function $n(e){const n=getComputedStyle(e);return!!(n.position==="fixed"||n.zIndex!=="auto"&&(n.position!=="static"||Mn(e))||+n.opacity<1||"transform"in n&&n.transform!=="none"||"webkitTransform"in n&&n.webkitTransform!=="none"||"mixBlendMode"in n&&n.mixBlendMode!=="normal"||"filter"in n&&n.filter!=="none"||"webkitFilter"in n&&n.webkitFilter!=="none"||"isolation"in n&&n.isolation==="isolate"||An.test(n.willChange)||n.webkitOverflowScrolling==="touch")}function Fe(e){let n=e.length;for(;n--;){const t=e[n];if(v(t,"Missing node"),$n(t))return t}return null}function Ke(e){return e&&Number(getComputedStyle(e).zIndex)||0}function We(e){const n=[];for(;e;)n.push(e),e=tn(e);return n}function tn(e){const{parentNode:n}=e;return n&&n instanceof ShadowRoot?n.host:n}const rn=1,on=2,ln=4,an=8,Dn=Cn()==="coarse";let Q=[],Ce=!1,Z=new Map,Ie=new Map;const me=new Set;function Nn(e,n,t,r,i){var o;const{ownerDocument:l}=n,a={direction:t,element:n,hitAreaMargins:r,setResizeHandlerState:i},s=(o=Z.get(l))!==null&&o!==void 0?o:0;return Z.set(l,s+1),me.add(a),we(),function(){var P;Ie.delete(e),me.delete(a);const f=(P=Z.get(l))!==null&&P!==void 0?P:1;Z.set(l,f-1),we(),f===1&&Z.delete(l)}}function Ve(e){const{target:n}=e,{x:t,y:r}=Le(e);Ce=!0,ke({target:n,x:t,y:r}),we(),Q.length>0&&(_e("down",e),e.preventDefault(),e.stopPropagation())}function de(e){const{x:n,y:t}=Le(e);if(!Ce){const{target:r}=e;ke({target:r,x:n,y:t})}_e("move",e),sn(),Q.length>0&&e.preventDefault()}function le(e){const{target:n}=e,{x:t,y:r}=Le(e);Ie.clear(),Ce=!1,Q.length>0&&e.preventDefault(),_e("up",e),ke({target:n,x:t,y:r}),sn(),we()}function ke({target:e,x:n,y:t}){Q.splice(0);let r=null;e instanceof HTMLElement&&(r=e),me.forEach(i=>{const{element:o,hitAreaMargins:l}=i,a=o.getBoundingClientRect(),{bottom:s,left:p,right:P,top:f}=a,u=Dn?l.coarse:l.fine;if(n>=p-u&&n<=P+u&&t>=f-u&&t<=s+u){if(r!==null&&o!==r&&!o.contains(r)&&!r.contains(o)&&Rn(r,o)>0){let d=r,E=!1;for(;d&&!d.contains(o);){if(In(d.getBoundingClientRect(),a,!0)){E=!0;break}d=d.parentElement}if(E)return}Q.push(i)}})}function $e(e,n){Ie.set(e,n)}function sn(){let e=!1,n=!1;Q.forEach(r=>{const{direction:i}=r;i==="horizontal"?e=!0:n=!0});let t=0;Ie.forEach(r=>{t|=r}),e&&n?Me("intersection",t):e?Me("horizontal",t):n?Me("vertical",t):Ln()}function we(){Z.forEach((e,n)=>{const{body:t}=n;t.removeEventListener("contextmenu",le),t.removeEventListener("pointerdown",Ve),t.removeEventListener("pointerleave",de),t.removeEventListener("pointermove",de)}),window.removeEventListener("pointerup",le),window.removeEventListener("pointercancel",le),me.size>0&&(Ce?(Q.length>0&&Z.forEach((e,n)=>{const{body:t}=n;e>0&&(t.addEventListener("contextmenu",le),t.addEventListener("pointerleave",de),t.addEventListener("pointermove",de))}),window.addEventListener("pointerup",le),window.addEventListener("pointercancel",le)):Z.forEach((e,n)=>{const{body:t}=n;e>0&&(t.addEventListener("pointerdown",Ve,{capture:!0}),t.addEventListener("pointermove",de))}))}function _e(e,n){me.forEach(t=>{const{setResizeHandlerState:r}=t,i=Q.includes(t);r(e,i,n)})}function v(e,n){if(!e)throw console.error(n),Error(n)}const He=10;function ie(e,n,t=He){return e.toFixed(t)===n.toFixed(t)?0:e>n?1:-1}function O(e,n,t=He){return ie(e,n,t)===0}function B(e,n,t){return ie(e,n,t)===0}function kn(e,n,t){if(e.length!==n.length)return!1;for(let r=0;r<e.length;r++){const i=e[r],o=n[r];if(!B(i,o,t))return!1}return!0}function ue({panelConstraints:e,panelIndex:n,size:t}){const r=e[n];v(r!=null,`Panel constraints not found for index ${n}`);let{collapsedSize:i=0,collapsible:o,maxSize:l=100,minSize:a=0}=r;if(ie(t,a)<0)if(o){const s=(i+a)/2;ie(t,s)<0?t=i:t=a}else t=a;return t=Math.min(l,t),t=parseFloat(t.toFixed(He)),t}function pe({delta:e,initialLayout:n,panelConstraints:t,pivotIndices:r,prevLayout:i,trigger:o}){if(B(e,0))return n;const l=[...n],[a,s]=r;v(a!=null,"Invalid first pivot index"),v(s!=null,"Invalid second pivot index");let p=0;if(o==="keyboard"){{const f=e<0?s:a,u=t[f];v(u,`Panel constraints not found for index ${f}`);const{collapsedSize:m=0,collapsible:d,minSize:E=0}=u;if(d){const w=n[f];if(v(w!=null,`Previous layout not found for panel index ${f}`),B(w,m)){const S=E-w;ie(S,Math.abs(e))>0&&(e=e<0?0-S:S)}}}{const f=e<0?a:s,u=t[f];v(u,`No panel constraints found for index ${f}`);const{collapsedSize:m=0,collapsible:d,minSize:E=0}=u;if(d){const w=n[f];if(v(w!=null,`Previous layout not found for panel index ${f}`),B(w,E)){const S=w-m;ie(S,Math.abs(e))>0&&(e=e<0?0-S:S)}}}}{const f=e<0?1:-1;let u=e<0?s:a,m=0;for(;;){const E=n[u];v(E!=null,`Previous layout not found for panel index ${u}`);const S=ue({panelConstraints:t,panelIndex:u,size:100})-E;if(m+=S,u+=f,u<0||u>=t.length)break}const d=Math.min(Math.abs(e),Math.abs(m));e=e<0?0-d:d}{let u=e<0?a:s;for(;u>=0&&u<t.length;){const m=Math.abs(e)-Math.abs(p),d=n[u];v(d!=null,`Previous layout not found for panel index ${u}`);const E=d-m,w=ue({panelConstraints:t,panelIndex:u,size:E});if(!B(d,w)&&(p+=d-w,l[u]=w,p.toPrecision(3).localeCompare(Math.abs(e).toPrecision(3),void 0,{numeric:!0})>=0))break;e<0?u--:u++}}if(kn(i,l))return i;{const f=e<0?s:a,u=n[f];v(u!=null,`Previous layout not found for panel index ${f}`);const m=u+p,d=ue({panelConstraints:t,panelIndex:f,size:m});if(l[f]=d,!B(d,m)){let E=m-d,S=e<0?s:a;for(;S>=0&&S<t.length;){const C=l[S];v(C!=null,`Previous layout not found for panel index ${S}`);const $=C+E,k=ue({panelConstraints:t,panelIndex:S,size:$});if(B(C,k)||(E-=k-C,l[S]=k),B(E,0))break;e>0?S--:S++}}}const P=l.reduce((f,u)=>u+f,0);return B(P,100)?l:i}function _n({layout:e,panelsArray:n,pivotIndices:t}){let r=0,i=100,o=0,l=0;const a=t[0];v(a!=null,"No pivot index found"),n.forEach((f,u)=>{const{constraints:m}=f,{maxSize:d=100,minSize:E=0}=m;u===a?(r=E,i=d):(o+=E,l+=d)});const s=Math.min(i,100-o),p=Math.max(r,100-l),P=e[a];return{valueMax:s,valueMin:p,valueNow:P}}function ye(e,n=document){return Array.from(n.querySelectorAll(`[data-panel-resize-handle-id][data-panel-group-id="${e}"]`))}function un(e,n,t=document){const i=ye(e,t).findIndex(o=>o.getAttribute("data-panel-resize-handle-id")===n);return i??null}function cn(e,n,t){const r=un(e,n,t);return r!=null?[r,r+1]:[-1,-1]}function fn(e,n=document){var t;if(n instanceof HTMLElement&&(n==null||(t=n.dataset)===null||t===void 0?void 0:t.panelGroupId)==e)return n;const r=n.querySelector(`[data-panel-group][data-panel-group-id="${e}"]`);return r||null}function Re(e,n=document){const t=n.querySelector(`[data-panel-resize-handle-id="${e}"]`);return t||null}function Hn(e,n,t,r=document){var i,o,l,a;const s=Re(n,r),p=ye(e,r),P=s?p.indexOf(s):-1,f=(i=(o=t[P])===null||o===void 0?void 0:o.id)!==null&&i!==void 0?i:null,u=(l=(a=t[P+1])===null||a===void 0?void 0:a.id)!==null&&l!==void 0?l:null;return[f,u]}function Gn({committedValuesRef:e,eagerValuesRef:n,groupId:t,layout:r,panelDataArray:i,panelGroupElement:o,setLayout:l}){_({didWarnAboutMissingResizeHandle:!1}),oe(()=>{if(!o)return;const a=ye(t,o);for(let s=0;s<i.length-1;s++){const{valueMax:p,valueMin:P,valueNow:f}=_n({layout:r,panelsArray:i,pivotIndices:[s,s+1]}),u=a[s];if(u!=null){const m=i[s];v(m,`No panel data found for index "${s}"`),u.setAttribute("aria-controls",m.id),u.setAttribute("aria-valuemax",""+Math.round(p)),u.setAttribute("aria-valuemin",""+Math.round(P)),u.setAttribute("aria-valuenow",f!=null?""+Math.round(f):"")}}return()=>{a.forEach((s,p)=>{s.removeAttribute("aria-controls"),s.removeAttribute("aria-valuemax"),s.removeAttribute("aria-valuemin"),s.removeAttribute("aria-valuenow")})}},[t,r,i,o]),re(()=>{if(!o)return;const a=n.current;v(a,"Eager values not found");const{panelDataArray:s}=a,p=fn(t,o);v(p!=null,`No group found for id "${t}"`);const P=ye(t,o);v(P,`No resize handles found for group id "${t}"`);const f=P.map(u=>{const m=u.getAttribute("data-panel-resize-handle-id");v(m,"Resize handle element has no handle id attribute");const[d,E]=Hn(t,m,s,o);if(d==null||E==null)return()=>{};const w=S=>{if(!S.defaultPrevented)switch(S.key){case"Enter":{S.preventDefault();const C=s.findIndex($=>$.id===d);if(C>=0){const $=s[C];v($,`No panel data found for index ${C}`);const k=r[C],{collapsedSize:L=0,collapsible:y,minSize:W=0}=$.constraints;if(k!=null&&y){const U=pe({delta:B(k,L)?W-L:L-k,initialLayout:r,panelConstraints:s.map(X=>X.constraints),pivotIndices:cn(t,m,o),prevLayout:r,trigger:"keyboard"});r!==U&&l(U)}}break}}};return u.addEventListener("keydown",w),()=>{u.removeEventListener("keydown",w)}});return()=>{f.forEach(u=>u())}},[o,e,n,t,r,i,l])}function qe(e,n){if(e.length!==n.length)return!1;for(let t=0;t<e.length;t++)if(e[t]!==n[t])return!1;return!0}function dn(e,n){const t=e==="horizontal",{x:r,y:i}=Le(n);return t?r:i}function Bn(e,n,t,r,i){const o=t==="horizontal",l=Re(n,i);v(l,`No resize handle element found for id "${n}"`);const a=l.getAttribute("data-panel-group-id");v(a,"Resize handle element has no group id attribute");let{initialCursorPosition:s}=r;const p=dn(t,e),P=fn(a,i);v(P,`No group element found for id "${a}"`);const f=P.getBoundingClientRect(),u=o?f.width:f.height;return(p-s)/u*100}function Fn(e,n,t,r,i,o){if(Qe(e)){const l=t==="horizontal";let a=0;e.shiftKey?a=100:i!=null?a=i:a=10;let s=0;switch(e.key){case"ArrowDown":s=l?0:a;break;case"ArrowLeft":s=l?-a:0;break;case"ArrowRight":s=l?a:0;break;case"ArrowUp":s=l?0:-a;break;case"End":s=100;break;case"Home":s=-100;break}return s}else return r==null?0:Bn(e,n,t,r,o)}function Kn({panelDataArray:e}){const n=Array(e.length),t=e.map(o=>o.constraints);let r=0,i=100;for(let o=0;o<e.length;o++){const l=t[o];v(l,`Panel constraints not found for index ${o}`);const{defaultSize:a}=l;a!=null&&(r++,n[o]=a,i-=a)}for(let o=0;o<e.length;o++){const l=t[o];v(l,`Panel constraints not found for index ${o}`);const{defaultSize:a}=l;if(a!=null)continue;const s=e.length-r,p=i/s;r++,n[o]=p,i-=p}return n}function ae(e,n,t){n.forEach((r,i)=>{const o=e[i];v(o,`Panel data not found for index ${i}`);const{callbacks:l,constraints:a,id:s}=o,{collapsedSize:p=0,collapsible:P}=a,f=t[s];if(f==null||r!==f){t[s]=r;const{onCollapse:u,onExpand:m,onResize:d}=l;d&&d(r,f),P&&(u||m)&&(m&&(f==null||O(f,p))&&!O(r,p)&&m(),u&&(f==null||!O(f,p))&&O(r,p)&&u())}})}function be(e,n){if(e.length!==n.length)return!1;for(let t=0;t<e.length;t++)if(e[t]!=n[t])return!1;return!0}function Wn({defaultSize:e,dragState:n,layout:t,panelData:r,panelIndex:i,precision:o=3}){const l=t[i];let a;return l==null?a=e!=null?e.toPrecision(o):"1":r.length===1?a="1":a=l.toPrecision(o),{flexBasis:0,flexGrow:a,flexShrink:1,overflow:"hidden",pointerEvents:n!==null?"none":void 0}}function Vn(e,n=10){let t=null;return(...i)=>{t!==null&&clearTimeout(t),t=setTimeout(()=>{e(...i)},n)}}function Ue(e){try{if(typeof localStorage<"u")e.getItem=n=>localStorage.getItem(n),e.setItem=(n,t)=>{localStorage.setItem(n,t)};else throw new Error("localStorage not supported in this environment")}catch(n){console.error(n),e.getItem=()=>null,e.setItem=()=>{}}}function pn(e){return`react-resizable-panels:${e}`}function gn(e){return e.map(n=>{const{constraints:t,id:r,idIsFromProps:i,order:o}=n;return i?r:o?`${o}:${JSON.stringify(t)}`:JSON.stringify(t)}).sort((n,t)=>n.localeCompare(t)).join(",")}function hn(e,n){try{const t=pn(e),r=n.getItem(t);if(r){const i=JSON.parse(r);if(typeof i=="object"&&i!=null)return i}}catch{}return null}function qn(e,n,t){var r,i;const o=(r=hn(e,t))!==null&&r!==void 0?r:{},l=gn(n);return(i=o[l])!==null&&i!==void 0?i:null}function Un(e,n,t,r,i){var o;const l=pn(e),a=gn(n),s=(o=hn(e,i))!==null&&o!==void 0?o:{};s[a]={expandToSizes:Object.fromEntries(t.entries()),layout:r};try{i.setItem(l,JSON.stringify(s))}catch(p){console.error(p)}}function Xe({layout:e,panelConstraints:n}){const t=[...e],r=t.reduce((o,l)=>o+l,0);if(t.length!==n.length)throw Error(`Invalid ${n.length} panel layout: ${t.map(o=>`${o}%`).join(", ")}`);if(!B(r,100))for(let o=0;o<n.length;o++){const l=t[o];v(l!=null,`No layout data found for index ${o}`);const a=100/r*l;t[o]=a}let i=0;for(let o=0;o<n.length;o++){const l=t[o];v(l!=null,`No layout data found for index ${o}`);const a=ue({panelConstraints:n,panelIndex:o,size:l});l!=a&&(i+=l-a,t[o]=a)}if(!B(i,0))for(let o=0;o<n.length;o++){const l=t[o];v(l!=null,`No layout data found for index ${o}`);const a=l+i,s=ue({panelConstraints:n,panelIndex:o,size:a});if(l!==s&&(i-=s-l,t[o]=s,B(i,0)))break}return t}const Xn=100,ge={getItem:e=>(Ue(ge),ge.getItem(e)),setItem:(e,n)=>{Ue(ge),ge.setItem(e,n)}},Te={};function mn({autoSaveId:e=null,children:n,className:t="",direction:r,forwardedRef:i,id:o=null,onLayout:l=null,keyboardResizeBy:a=null,storage:s=ge,style:p,tagName:P="div",...f}){const u=Ne(o),m=_(null),[d,E]=he(null),[w,S]=he([]),C=_({}),$=_(new Map),k=_(0),L=_({autoSaveId:e,direction:r,dragState:d,id:u,keyboardResizeBy:a,onLayout:l,storage:s}),y=_({layout:w,panelDataArray:[],panelDataArrayChanged:!1});_({didLogIdAndOrderWarning:!1,didLogPanelConstraintsWarning:!1,prevPanelIds:[]}),Ye(i,()=>({getId:()=>L.current.id,getLayout:()=>{const{layout:c}=y.current;return c},setLayout:c=>{const{onLayout:x}=L.current,{layout:z,panelDataArray:g}=y.current,h=Xe({layout:c,panelConstraints:g.map(b=>b.constraints)});qe(z,h)||(S(h),y.current.layout=h,x&&x(h),ae(g,h,C.current))}}),[]),oe(()=>{L.current.autoSaveId=e,L.current.direction=r,L.current.dragState=d,L.current.id=u,L.current.onLayout=l,L.current.storage=s}),Gn({committedValuesRef:L,eagerValuesRef:y,groupId:u,layout:w,panelDataArray:y.current.panelDataArray,setLayout:S,panelGroupElement:m.current}),re(()=>{const{panelDataArray:c}=y.current;if(e){if(w.length===0||w.length!==c.length)return;let x=Te[e];x==null&&(x=Vn(Un,Xn),Te[e]=x);const z=[...c],g=new Map($.current);x(e,z,g,w,s)}},[e,w,s]),re(()=>{});const W=G(c=>{const{onLayout:x}=L.current,{layout:z,panelDataArray:g}=y.current;if(c.constraints.collapsible){const h=g.map(V=>V.constraints),{collapsedSize:b=0,panelSize:I,pivotIndices:D}=ne(g,c,z);if(v(I!=null,`Panel size not found for panel "${c.id}"`),!O(I,b)){$.current.set(c.id,I);const K=se(g,c)===g.length-1?I-b:b-I,R=pe({delta:K,initialLayout:z,panelConstraints:h,pivotIndices:D,prevLayout:z,trigger:"imperative-api"});be(z,R)||(S(R),y.current.layout=R,x&&x(R),ae(g,R,C.current))}}},[]),U=G((c,x)=>{const{onLayout:z}=L.current,{layout:g,panelDataArray:h}=y.current;if(c.constraints.collapsible){const b=h.map(q=>q.constraints),{collapsedSize:I=0,panelSize:D=0,minSize:V=0,pivotIndices:K}=ne(h,c,g),R=x??V;if(O(D,I)){const q=$.current.get(c.id),Se=q!=null&&q>=R?q:R,Pe=se(h,c)===h.length-1?D-Se:Se-D,ee=pe({delta:Pe,initialLayout:g,panelConstraints:b,pivotIndices:K,prevLayout:g,trigger:"imperative-api"});be(g,ee)||(S(ee),y.current.layout=ee,z&&z(ee),ae(h,ee,C.current))}}},[]),X=G(c=>{const{layout:x,panelDataArray:z}=y.current,{panelSize:g}=ne(z,c,x);return v(g!=null,`Panel size not found for panel "${c.id}"`),g},[]),T=G((c,x)=>{const{panelDataArray:z}=y.current,g=se(z,c);return Wn({defaultSize:x,dragState:d,layout:w,panelData:z,panelIndex:g})},[d,w]),F=G(c=>{const{layout:x,panelDataArray:z}=y.current,{collapsedSize:g=0,collapsible:h,panelSize:b}=ne(z,c,x);return v(b!=null,`Panel size not found for panel "${c.id}"`),h===!0&&O(b,g)},[]),A=G(c=>{const{layout:x,panelDataArray:z}=y.current,{collapsedSize:g=0,collapsible:h,panelSize:b}=ne(z,c,x);return v(b!=null,`Panel size not found for panel "${c.id}"`),!h||ie(b,g)>0},[]),Y=G(c=>{const{panelDataArray:x}=y.current;x.push(c),x.sort((z,g)=>{const h=z.order,b=g.order;return h==null&&b==null?0:h==null?-1:b==null?1:h-b}),y.current.panelDataArrayChanged=!0},[]);oe(()=>{if(y.current.panelDataArrayChanged){y.current.panelDataArrayChanged=!1;const{autoSaveId:c,onLayout:x,storage:z}=L.current,{layout:g,panelDataArray:h}=y.current;let b=null;if(c){const D=qn(c,h,z);D&&($.current=new Map(Object.entries(D.expandToSizes)),b=D.layout)}b==null&&(b=Kn({panelDataArray:h}));const I=Xe({layout:b,panelConstraints:h.map(D=>D.constraints)});qe(g,I)||(S(I),y.current.layout=I,x&&x(I),ae(h,I,C.current))}}),oe(()=>{const c=y.current;return()=>{c.layout=[]}},[]);const N=G(c=>function(z){z.preventDefault();const g=m.current;if(!g)return()=>null;const{direction:h,dragState:b,id:I,keyboardResizeBy:D,onLayout:V}=L.current,{layout:K,panelDataArray:R}=y.current,{initialLayout:q}=b??{},Se=cn(I,c,g);let j=Fn(z,c,h,b,D,g);if(j===0)return;const Pe=h==="horizontal";document.dir==="rtl"&&Pe&&(j=-j);const ee=R.map(yn=>yn.constraints),fe=pe({delta:j,initialLayout:q??K,panelConstraints:ee,pivotIndices:Se,prevLayout:K,trigger:Qe(z)?"keyboard":"mouse-or-touch"}),Ge=!be(K,fe);(en(z)||nn(z))&&k.current!=j&&(k.current=j,Ge?$e(c,0):Pe?$e(c,j<0?rn:on):$e(c,j<0?ln:an)),Ge&&(S(fe),y.current.layout=fe,V&&V(fe),ae(R,fe,C.current))},[]),M=G((c,x)=>{const{onLayout:z}=L.current,{layout:g,panelDataArray:h}=y.current,b=h.map(q=>q.constraints),{panelSize:I,pivotIndices:D}=ne(h,c,g);v(I!=null,`Panel size not found for panel "${c.id}"`);const K=se(h,c)===h.length-1?I-x:x-I,R=pe({delta:K,initialLayout:g,panelConstraints:b,pivotIndices:D,prevLayout:g,trigger:"imperative-api"});be(g,R)||(S(R),y.current.layout=R,z&&z(R),ae(h,R,C.current))},[]),H=G((c,x)=>{const{layout:z,panelDataArray:g}=y.current,{collapsedSize:h=0,collapsible:b}=x,{collapsedSize:I=0,collapsible:D,maxSize:V=100,minSize:K=0}=c.constraints,{panelSize:R}=ne(g,c,z);R!=null&&(b&&D&&O(R,h)?O(h,I)||M(c,I):R<K?M(c,K):R>V&&M(c,V))},[M]),Ae=G((c,x)=>{const{direction:z}=L.current,{layout:g}=y.current;if(!m.current)return;const h=Re(c,m.current);v(h,`Drag handle element not found for id "${c}"`);const b=dn(z,x);E({dragHandleId:c,dragHandleRect:h.getBoundingClientRect(),initialCursorPosition:b,initialLayout:g})},[]),ze=G(()=>{E(null)},[]),xe=G(c=>{const{panelDataArray:x}=y.current,z=se(x,c);z>=0&&(x.splice(z,1),delete C.current[c.id],y.current.panelDataArrayChanged=!0)},[]),ve=vn(()=>({collapsePanel:W,direction:r,dragState:d,expandPanel:U,getPanelSize:X,getPanelStyle:T,groupId:u,isPanelCollapsed:F,isPanelExpanded:A,reevaluatePanelConstraints:H,registerPanel:Y,registerResizeHandle:N,resizePanel:M,startDragging:Ae,stopDragging:ze,unregisterPanel:xe,panelGroupElement:m.current}),[W,d,r,U,X,T,u,F,A,H,Y,N,M,Ae,ze,xe]),J={display:"flex",flexDirection:r==="horizontal"?"row":"column",height:"100%",overflow:"hidden",width:"100%"};return ce(Ee.Provider,{value:ve},ce(P,{...f,children:n,className:t,id:o,ref:m,style:{...J,...p},"data-panel-group":"","data-panel-group-direction":r,"data-panel-group-id":u}))}const Tn=je((e,n)=>ce(mn,{...e,forwardedRef:n}));mn.displayName="PanelGroup";Tn.displayName="forwardRef(PanelGroup)";function se(e,n){return e.findIndex(t=>t===n||t.id===n.id)}function ne(e,n,t){const r=se(e,n),o=r===e.length-1?[r-1,r]:[r,r+1],l=t[r];return{...n.constraints,panelSize:l,pivotIndices:o}}function Jn({disabled:e,handleId:n,resizeHandler:t,panelGroupElement:r}){re(()=>{if(e||t==null||r==null)return;const i=Re(n,r);if(i==null)return;const o=l=>{if(!l.defaultPrevented)switch(l.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":{l.preventDefault(),t(l);break}case"F6":{l.preventDefault();const a=i.getAttribute("data-panel-group-id");v(a,`No group element found for id "${a}"`);const s=ye(a,r),p=un(a,n,r);v(p!==null,`No resize element found for id "${n}"`);const P=l.shiftKey?p>0?p-1:s.length-1:p+1<s.length?p+1:0;s[P].focus();break}}};return i.addEventListener("keydown",o),()=>{i.removeEventListener("keydown",o)}},[r,e,n,t])}function jn({children:e=null,className:n="",disabled:t=!1,hitAreaMargins:r,id:i,onDragging:o,style:l={},tabIndex:a=0,tagName:s="div",...p}){var P,f;const u=_(null),m=_({onDragging:o});re(()=>{m.current.onDragging=o});const d=Oe(Ee);if(d===null)throw Error("PanelResizeHandle components must be rendered within a PanelGroup container");const{direction:E,groupId:w,registerResizeHandle:S,startDragging:C,stopDragging:$,panelGroupElement:k}=d,L=Ne(i),[y,W]=he("inactive"),[U,X]=he(!1),[T,F]=he(null),A=_({state:y});oe(()=>{A.current.state=y}),re(()=>{if(t)F(null);else{const H=S(L);F(()=>H)}},[t,L,S]);const Y=(P=r==null?void 0:r.coarse)!==null&&P!==void 0?P:15,N=(f=r==null?void 0:r.fine)!==null&&f!==void 0?f:5;return re(()=>{if(t||T==null)return;const H=u.current;return v(H,"Element ref not attached"),Nn(L,H,E,{coarse:Y,fine:N},(ze,xe,ve)=>{if(xe)switch(ze){case"down":{W("drag"),C(L,ve);const{onDragging:J}=m.current;J&&J(!0);break}case"move":{const{state:J}=A.current;J!=="drag"&&W("hover"),T(ve);break}case"up":{W("hover"),$();const{onDragging:J}=m.current;J&&J(!1);break}}else W("inactive")})},[Y,E,t,N,S,L,T,C,$]),Jn({disabled:t,handleId:L,resizeHandler:T,panelGroupElement:k}),ce(s,{...p,children:e,className:n,id:i,onBlur:()=>X(!1),onFocus:()=>X(!0),ref:u,role:"separator",style:{...{touchAction:"none",userSelect:"none"},...l},tabIndex:a,"data-panel-group-direction":E,"data-panel-group-id":w,"data-resize-handle":"","data-resize-handle-active":y==="drag"?"pointer":U?"keyboard":void 0,"data-resize-handle-state":y,"data-panel-resize-handle-enabled":!t,"data-panel-resize-handle-id":L})}jn.displayName="PanelResizeHandle";export{Tn as P,wn as a,jn as b};
