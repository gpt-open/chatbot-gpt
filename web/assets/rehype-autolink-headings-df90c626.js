import{s as C}from"./@ungap-d56ab8cf.js";import{c as H}from"./hast-util-is-element-29e512ec.js";import{v as I}from"./unist-util-visit-4a8cdef4.js";import{h as S}from"./hast-util-heading-rank-7e277c28.js";import{S as h}from"./unist-util-visit-parents-9b4d9404.js";const A={type:"element",tagName:"span",properties:{className:["icon","icon-link"]},children:[]},D={};function z(r){const n=r||D;let i=n.properties;const N=n.headingProperties,c=n.behavior||"prepend",s=n.content,g=n.group,O=H(n.test);let f;return c==="after"||c==="before"?f=j:c==="wrap"?f=w:(f=P,i||(i={ariaHidden:"true",tabIndex:-1})),function(t){I(t,"element",function(e,o,u){if(S(e)&&e.properties.id&&O(e,o,u))return Object.assign(e.properties,l(N,e)),f(e,o,u)})};function P(t){const e=d(s||A,t);return t.children[c==="prepend"?"unshift":"push"](m(t,l(i,t),e)),[h]}function j(t,e,o){if(typeof e!="number"||!o)return;const u=d(s||A,t),b=m(t,l(i,t),u);let a=c==="before"?[b,t]:[t,b];if(g){const p=k(g,t);p&&!Array.isArray(p)&&p.type==="element"&&(p.children=a,a=[p])}return o.children.splice(e,1,...a),[h,e+a.length]}function w(t){let e=t.children,o=[];return typeof s=="function"?(e=[],o=s(t)):s&&(o=y(s)),t.children=[m(t,l(i,t),Array.isArray(o)?[...e,...o]:[...e,o])],[h]}}function y(r){return C(r)}function m(r,n,i){return{type:"element",tagName:"a",properties:{...n,href:"#"+r.properties.id},children:i}}function d(r,n){const i=k(r,n);return Array.isArray(i)?i:[i]}function k(r,n){return typeof r=="function"?r(n):y(r)}function l(r,n){return typeof r=="function"?r(n):r?y(r):{}}export{z as r};
