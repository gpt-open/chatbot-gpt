function re(){return typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope}function de(n){return(s,d,e)=>{if(re())throw new Error("`startWorkerFromMain` should only be called from the main thread");if(typeof Worker>"u")throw new Error("Web workers not available. sqlite3 requires web workers to work.");n().then(({default:t})=>{let r=new t;r.postMessage({type:"init",buffers:[s,d]}),r.addEventListener("message",a=>{e.postMessage(a.data)})})}}function ae(n,s){const d=de(s);return e=>{e.addEventListener("message",t=>{switch(t.data.type){case n:d(t.data.argBuffer,t.data.resultBuffer,e);break}})}}const ue=ae("__absurd:spawn-idb-worker",()=>Promise.resolve().then(function(){return Ae}));var le=Object.defineProperty,ce=Object.defineProperties,ge=Object.getOwnPropertyDescriptors,A=Object.getOwnPropertySymbols,pe=Object.prototype.hasOwnProperty,we=Object.prototype.propertyIsEnumerable,C=(n,s,d)=>s in n?le(n,s,{enumerable:!0,configurable:!0,writable:!0,value:d}):n[s]=d,Z=(n,s)=>{for(var d in s||(s={}))pe.call(s,d)&&C(n,d,s[d]);if(A)for(var d of A(s))we.call(s,d)&&C(n,d,s[d]);return n},L=(n,s)=>ce(n,ge(s)),g=(n,s,d)=>(C(n,typeof s!="symbol"?s+"":s,d),d);const M={CONNECT_TIMEOUT:{code:-32300,message:"Connect timeout"},APPLICATION_ERROR:{code:-32500,message:"Application error"},METHOD_NOT_FOUND:{code:-32601,message:"Method not found"}};class he{constructor(s){g(this,"_currentEndpoint"),g(this,"_targetEndpoint"),g(this,"_events"),g(this,"_originOnmessage"),g(this,"_receiveMessage"),g(this,"onerror",null),g(this,"config"),g(this,"sendAdapter"),g(this,"receiveAdapter"),this._events={},this._currentEndpoint=s.currentEndpoint,this._targetEndpoint=s.targetEndpoint,this._originOnmessage=null,this.config=s.config,this.receiveAdapter=s.receiveAdapter,this.sendAdapter=s.sendAdapter;const d=e=>{const t=this.receiveAdapter?this.receiveAdapter(e):e.data;if(t&&typeof t.event=="string"){const r=this._events[t.event]||[];if(r.length){r.forEach(a=>{a(...t.args||[])});return}this.onerror&&this.onerror(L(Z({},M.METHOD_NOT_FOUND),{data:t}))}};if(this._currentEndpoint.addEventListener){"start"in this._currentEndpoint&&this._currentEndpoint.start&&this._currentEndpoint.start(),this._currentEndpoint.addEventListener("message",d,!1),this._receiveMessage=d;return}this._originOnmessage=this._currentEndpoint.onmessage,this._currentEndpoint.onmessage=e=>{this._originOnmessage&&this._originOnmessage(e),d(e)},this._receiveMessage=this._currentEndpoint.onmessage}emit(s,...d){const e={event:s,args:d},t=this.sendAdapter?this.sendAdapter(e,this._targetEndpoint):{data:e},r=t.data||e,a=this.config?typeof this.config=="function"?this.config(r,this._targetEndpoint)||{}:this.config||{}:{};Array.isArray(t.transfer)&&t.transfer.length&&(a.transfer=t.transfer),this._targetEndpoint.postMessage(r,a)}on(s,d){this._events[s]||(this._events[s]=[]),this._events[s].push(d)}off(s,d){if(!this._events[s])return;if(!d){this._events[s]=[];return}const e=this._events[s]||[];this._events[s]=e.filter(t=>t!==d)}destroy(){if(this._currentEndpoint.removeEventListener){this._currentEndpoint.removeEventListener("message",this._receiveMessage,!1);return}try{this._currentEndpoint.onmessage=this._originOnmessage}catch(s){console.warn(s)}}}const m=class{constructor(n){g(this,"_event"),g(this,"_methods",{}),g(this,"_timeout",0),g(this,"_$connect",null),this._event=n.event,this._timeout=n.timeout||0,n.methods&&Object.entries(n.methods).forEach(([s,d])=>{this.registerMethod(s,d)}),this._event.onerror=s=>{const{code:d,message:e,data:t}=s;if(t.event&&Array.isArray(t.args)&&t.args.length){const r=t.args[0],a=this._getAckEventName(r.method),u={jsonrpc:"2.0",id:r==null?void 0:r.id,error:{code:d,message:e,data:r}};this._event.emit(a,u)}else console.error(s)},this.connect()}static uuid(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,n=>{const s=Math.random()*16|0;return(n=="x"?s:s&3|8).toString(16)})}_getSynEventName(n){return`${m.EVENT.SYN_SIGN}${n}`}_getAckEventName(n){return`${m.EVENT.ACK_SIGN}${n}`}connect(n){return this._$connect?this._$connect:(this._$connect=new Promise((s,d)=>{const e=n||this._timeout;let t;e&&(t=setTimeout(()=>{const S=L(Z({},M.TIMEOUT),{data:{timeout:e}});d(S)},e));const r=m.EVENT.CONNECT,a=this._getAckEventName(r),u=this._getSynEventName(r),l=()=>{clearTimeout(t),s()};this._event.on(a,l);const w=()=>{this._event.emit(a),l()};this._event.on(u,w),this._event.emit(u)}),this._$connect)}registerMethod(n,s){if(this._methods[n])throw new Error(`${n} already registered`);this._methods[n]=s;const d=this._getSynEventName(n),e=t=>{const r=this._getAckEventName(n);if(!t.id){s(...t.params);return}Promise.resolve(s(...t.params)).then(a=>{const u={jsonrpc:"2.0",result:a,id:t.id};this._event.emit(r,u)}).catch(a=>{const u={jsonrpc:"2.0",id:t.id,error:{code:(a==null?void 0:a.code)||M.APPLICATION_ERROR.code,message:(a==null?void 0:a.message)||M.APPLICATION_ERROR.message,data:null}};this._event.emit(r,u)})};this._event.on(d,e)}removeMethod(n){this._methods[n]||delete this._methods[n];const s=this._getSynEventName(n);this._event.off(s)}invoke(n,...s){return new Promise((d,e)=>{const t=s[s.length-1],r=t&&typeof t=="object"&&(Reflect.has(t,"isNotify")||Reflect.has(t,"timeout")),a=r?t:{isNotify:!1,timeout:0},u=r?s.slice(0,-1):s,l=this._getSynEventName(n),w=m.uuid(),S={jsonrpc:"2.0",method:n,params:u,id:w};if(this._event.emit(l,S),a.isNotify)d(void 0);else{const O=this._getAckEventName(n),f=a.timeout||this._timeout;let W;f&&(W=setTimeout(()=>{const v=L(Z({},M.CONNECT_TIMEOUT),{data:{timeout:f}});e(v)},f));const N=v=>{v.id===w&&(clearTimeout(W),this._event.off(O,N),v.error?e(v.error):d(v.result))};this._event.on(O,N)}})}destroy(){Object.entries(this._methods).forEach(([d])=>{const e=this._getSynEventName(d);this._event.off(e)});const n=this._getAckEventName(m.EVENT.CONNECT),s=this._getSynEventName(m.EVENT.CONNECT);this._event.off(s),this._event.off(n),this._event.destroy&&this._event.destroy()}};let R=m;g(R,"CODES",M);g(R,"EVENT",{SYN_SIGN:"syn:",ACK_SIGN:"ack:",CONNECT:"__rpc_connect_event",SYNC_METHODS:"__rpc_sync_methods_event"});const me={ErrorInit:10001,ErrorNoRecord:10002,ErrorDBTimeout:10003};var U;(function(n){n.Login="Login",n.OnConnectFailed="OnConnectFailed",n.OnConnectSuccess="OnConnectSuccess",n.OnConnecting="OnConnecting",n.OnKickedOffline="OnKickedOffline",n.OnSelfInfoUpdated="OnSelfInfoUpdated",n.OnUserTokenExpired="OnUserTokenExpired",n.OnProgress="OnProgress",n.OnRecvNewMessage="OnRecvNewMessage",n.OnRecvNewMessages="OnRecvNewMessages",n.OnRecvOfflineNewMessage="onRecvOfflineNewMessage",n.OnRecvOfflineNewMessages="onRecvOfflineNewMessages",n.OnRecvMessageRevoked="OnRecvMessageRevoked",n.OnNewRecvMessageRevoked="OnNewRecvMessageRevoked",n.OnRecvC2CReadReceipt="OnRecvC2CReadReceipt",n.OnRecvGroupReadReceipt="OnRecvGroupReadReceipt",n.OnConversationChanged="OnConversationChanged",n.OnNewConversation="OnNewConversation",n.OnSyncServerFailed="OnSyncServerFailed",n.OnSyncServerFinish="OnSyncServerFinish",n.OnSyncServerStart="OnSyncServerStart",n.OnTotalUnreadMessageCountChanged="OnTotalUnreadMessageCountChanged",n.OnBlackAdded="OnBlackAdded",n.OnBlackDeleted="OnBlackDeleted",n.OnFriendApplicationAccepted="OnFriendApplicationAccepted",n.OnFriendApplicationAdded="OnFriendApplicationAdded",n.OnFriendApplicationDeleted="OnFriendApplicationDeleted",n.OnFriendApplicationRejected="OnFriendApplicationRejected",n.OnFriendInfoChanged="OnFriendInfoChanged",n.OnFriendAdded="OnFriendAdded",n.OnFriendDeleted="OnFriendDeleted",n.OnJoinedGroupAdded="OnJoinedGroupAdded",n.OnJoinedGroupDeleted="OnJoinedGroupDeleted",n.OnGroupDismissed="OnGroupDismissed",n.OnGroupMemberAdded="OnGroupMemberAdded",n.OnGroupMemberDeleted="OnGroupMemberDeleted",n.OnGroupApplicationAdded="OnGroupApplicationAdded",n.OnGroupApplicationDeleted="OnGroupApplicationDeleted",n.OnGroupInfoChanged="OnGroupInfoChanged",n.OnGroupMemberInfoChanged="OnGroupMemberInfoChanged",n.OnGroupApplicationAccepted="OnGroupApplicationAccepted",n.OnGroupApplicationRejected="OnGroupApplicationRejected",n.UploadComplete="UploadComplete",n.OnRecvCustomBusinessMessage="OnRecvCustomBusinessMessage",n.OnUserStatusChanged="OnUserStatusChanged",n.OnReceiveNewInvitation="OnReceiveNewInvitation",n.OnInviteeAccepted="OnInviteeAccepted",n.OnInviteeRejected="OnInviteeRejected",n.OnInvitationCancelled="OnInvitationCancelled",n.OnHangUp="OnHangUp",n.OnInvitationTimeout="OnInvitationTimeout",n.OnInviteeAcceptedByOtherDevice="OnInviteeAcceptedByOtherDevice",n.OnInviteeRejectedByOtherDevice="OnInviteeRejectedByOtherDevice",n.OnStreamChange="OnStreamChange",n.OnRoomParticipantConnected="OnRoomParticipantConnected",n.OnRoomParticipantDisconnected="OnRoomParticipantDisconnected",n.OnReceiveCustomSignal="OnReceiveCustomSignal",n.UnUsedEvent="UnUsedEvent"})(U||(U={}));let p,h,ie=!1;function Ge(){if(typeof Worker<"u"&&"type"in Worker.prototype)return!0;try{const n=new Blob([""],{type:"text/javascript"}),s=URL.createObjectURL(n);return new Worker(s,{type:"module"}),URL.revokeObjectURL(s),!0}catch{return!1}}function X(){if(typeof window>"u")return;const n=import.meta.url.includes(".vite/deps"),s=import.meta.url.includes("_nuxt/node_modules"),d=Ge();let e=d?new URL(""+new URL("worker-6ab0eb55.js",import.meta.url).href,self.location):new URL(""+new URL("worker-legacy-f23f7235.js",import.meta.url).href,self.location);n&&(e=e.href.replace(".vite/deps","open-im-sdk-wasm/lib")),s&&(e=e.href.replace(".cache/vite/client/deps","open-im-sdk-wasm/lib")),h=new Worker(e,{type:d?"module":"classic"}),ue(h),p=new R({event:new he({currentEndpoint:h,targetEndpoint:h})})}function ve(){p&&(p.destroy(),p=void 0),h&&(h.terminate(),h=void 0)}X();function se(n){if(n.code===-32300)return ve(),JSON.stringify({data:"",errCode:me.ErrorDBTimeout,errMsg:"database maybe damaged"});throw n}function y(...n){ie&&console.info(...n)}function i(n,s,d=!0){return y(`=> (database api) registe ${s??n}`),async(...e)=>{if((!p||!h)&&X(),!!p)try{y(`=> (invoked by go wasm) run ${s??n} method with args ${JSON.stringify(e)}`);const t=await p.invoke(n,...e,{timeout:5e6});return y(`=> (invoked by go wasm) run ${s??n} method with response `,JSON.stringify(t)),d?JSON.stringify(t):t}catch(t){se(t)}}}function Me(n=!0){p&&(ie=n,window.wasmOpen=i("wasmOpen"),window.wasmClose=i("wasmClose"),window.wasmRead=i("wasmRead","wasmRead",!1),window.getUpload=i("getUpload"),window.insertUpload=i("insertUpload"),window.updateUpload=i("updateUpload"),window.deleteUpload=i("deleteUpload"),window.fileMapSet=i("fileMapSet"),window.fileMapClear=i("fileMapClear"),window.setSqlWasmPath=i("setSqlWasmPath"),window.initDB=i("initDB"),window.close=i("close"),window.getMessage=i("getMessage"),window.getMultipleMessage=i("getMultipleMessage"),window.getSendingMessageList=i("getSendingMessageList"),window.getNormalMsgSeq=i("getNormalMsgSeq"),window.updateMessageTimeAndStatus=i("updateMessageTimeAndStatus"),window.updateMessage=i("updateMessage"),window.updateMessageBySeq=i("updateMessageBySeq"),window.updateColumnsMessage=i("updateColumnsMessage"),window.insertMessage=i("insertMessage"),window.batchInsertMessageList=i("batchInsertMessageList"),window.getMessageList=i("getMessageList"),window.getMessageListNoTime=i("getMessageListNoTime"),window.messageIfExists=i("messageIfExists"),window.messageIfExistsBySeq=i("messageIfExistsBySeq"),window.getAbnormalMsgSeq=i("getAbnormalMsgSeq"),window.getAbnormalMsgSeqList=i("getAbnormalMsgSeqList"),window.batchInsertExceptionMsg=i("batchInsertExceptionMsg"),window.searchMessageByKeyword=i("searchMessageByKeyword"),window.searchMessageByContentType=i("searchMessageByContentType"),window.searchMessageByContentTypeAndKeyword=i("searchMessageByContentTypeAndKeyword"),window.updateMsgSenderNickname=i("updateMsgSenderNickname"),window.updateMsgSenderFaceURL=i("updateMsgSenderFaceURL"),window.updateMsgSenderFaceURLAndSenderNickname=i("updateMsgSenderFaceURLAndSenderNickname"),window.getMsgSeqByClientMsgID=i("getMsgSeqByClientMsgID"),window.getMsgSeqListByGroupID=i("getMsgSeqListByGroupID"),window.getMsgSeqListByPeerUserID=i("getMsgSeqListByPeerUserID"),window.getMsgSeqListBySelfUserID=i("getMsgSeqListBySelfUserID"),window.deleteAllMessage=i("deleteAllMessage"),window.getAllUnDeleteMessageSeqList=i("getAllUnDeleteMessageSeqList"),window.updateSingleMessageHasRead=i("updateSingleMessageHasRead"),window.updateGroupMessageHasRead=i("updateGroupMessageHasRead"),window.updateMessageStatusBySourceID=i("updateMessageStatusBySourceID"),window.getAlreadyExistSeqList=i("getAlreadyExistSeqList"),window.getMessageBySeq=i("getMessageBySeq"),window.getMessagesByClientMsgIDs=i("getMessagesByClientMsgIDs"),window.getMessagesBySeqs=i("getMessagesBySeqs"),window.getConversationNormalMsgSeq=i("getConversationNormalMsgSeq"),window.getConversationPeerNormalMsgSeq=i("getConversationPeerNormalMsgSeq"),window.deleteConversationAllMessages=i("deleteConversationAllMessages"),window.markDeleteConversationAllMessages=i("markDeleteConversationAllMessages"),window.getUnreadMessage=i("getUnreadMessage"),window.markConversationMessageAsReadBySeqs=i("markConversationMessageAsReadBySeqs"),window.markConversationMessageAsReadDB=i("markConversationMessageAsRead"),window.deleteConversationMsgs=i("deleteConversationMsgs"),window.markConversationAllMessageAsRead=i("markConversationAllMessageAsRead"),window.searchAllMessageByContentType=i("searchAllMessageByContentType"),window.insertSendingMessage=i("insertSendingMessage"),window.deleteSendingMessage=i("deleteSendingMessage"),window.getAllSendingMessages=i("getAllSendingMessages"),window.getAllConversationListDB=i("getAllConversationList"),window.getAllConversationListToSync=i("getAllConversationListToSync"),window.getHiddenConversationList=i("getHiddenConversationList"),window.getConversation=i("getConversation"),window.getMultipleConversationDB=i("getMultipleConversation"),window.updateColumnsConversation=i("updateColumnsConversation"),window.updateConversation=i("updateColumnsConversation","updateConversation"),window.updateConversationForSync=i("updateColumnsConversation","updateConversationForSync"),window.decrConversationUnreadCount=i("decrConversationUnreadCount"),window.batchInsertConversationList=i("batchInsertConversationList"),window.insertConversation=i("insertConversation"),window.getTotalUnreadMsgCountDB=i("getTotalUnreadMsgCount"),window.getConversationByUserID=i("getConversationByUserID"),window.getConversationListSplitDB=i("getConversationListSplit"),window.deleteConversation=i("deleteConversation"),window.batchUpdateConversationList=i("batchUpdateConversationList"),window.conversationIfExists=i("conversationIfExists"),window.resetConversation=i("resetConversation"),window.resetAllConversation=i("resetAllConversation"),window.clearConversation=i("clearConversation"),window.clearAllConversation=i("clearAllConversation"),window.setConversationDraftDB=i("setConversationDraft"),window.removeConversationDraft=i("removeConversationDraft"),window.unPinConversation=i("unPinConversation"),window.incrConversationUnreadCount=i("incrConversationUnreadCount"),window.setMultipleConversationRecvMsgOpt=i("setMultipleConversationRecvMsgOpt"),window.getAllSingleConversationIDList=i("getAllSingleConversationIDList"),window.getAllConversationIDList=i("getAllConversationIDList"),window.getAllConversations=i("getAllConversations"),window.searchConversations=i("searchConversations"),window.getLoginUser=i("getLoginUser"),window.insertLoginUser=i("insertLoginUser"),window.updateLoginUser=i("updateLoginUser"),window.getStrangerInfo=i("getStrangerInfo"),window.setStrangerInfo=i("setStrangerInfo"),window.getJoinedSuperGroupList=i("getJoinedSuperGroupList"),window.getJoinedSuperGroupIDList=i("getJoinedSuperGroupIDList"),window.getSuperGroupInfoByGroupID=i("getSuperGroupInfoByGroupID"),window.deleteSuperGroup=i("deleteSuperGroup"),window.insertSuperGroup=i("insertSuperGroup"),window.updateSuperGroup=i("updateSuperGroup"),window.deleteConversationUnreadMessageList=i("deleteConversationUnreadMessageList"),window.batchInsertConversationUnreadMessageList=i("batchInsertConversationUnreadMessageList"),window.superGroupGetMessage=i("superGroupGetMessage"),window.superGroupGetMultipleMessage=i("superGroupGetMultipleMessage"),window.superGroupGetNormalMinSeq=i("superGroupGetNormalMinSeq"),window.getSuperGroupNormalMsgSeq=i("getSuperGroupNormalMsgSeq"),window.superGroupUpdateMessageTimeAndStatus=i("superGroupUpdateMessageTimeAndStatus"),window.superGroupUpdateMessage=i("superGroupUpdateMessage"),window.superGroupInsertMessage=i("superGroupInsertMessage"),window.superGroupBatchInsertMessageList=i("superGroupBatchInsertMessageList"),window.superGroupGetMessageListNoTime=i("superGroupGetMessageListNoTime"),window.superGroupGetMessageList=i("superGroupGetMessageList"),window.superGroupUpdateColumnsMessage=i("superGroupUpdateColumnsMessage"),window.superGroupDeleteAllMessage=i("superGroupDeleteAllMessage"),window.superGroupSearchMessageByKeyword=i("superGroupSearchMessageByKeyword"),window.superGroupSearchMessageByContentType=i("superGroupSearchMessageByContentType"),window.superGroupSearchMessageByContentTypeAndKeyword=i("superGroupSearchMessageByContentTypeAndKeyword"),window.superGroupUpdateMessageStatusBySourceID=i("superGroupUpdateMessageStatusBySourceID"),window.superGroupGetSendingMessageList=i("superGroupGetSendingMessageList"),window.superGroupUpdateGroupMessageHasRead=i("superGroupUpdateGroupMessageHasRead"),window.superGroupGetMsgSeqByClientMsgID=i("superGroupGetMsgSeqByClientMsgID"),window.superGroupUpdateMsgSenderFaceURLAndSenderNickname=i("superGroupUpdateMsgSenderFaceURLAndSenderNickname"),window.superGroupSearchAllMessageByContentType=i("superGroupSearchAllMessageByContentType"),window.exec=i("exec"),window.getRowsModified=i("getRowsModified"),window.exportDB=async()=>{if((!p||!h)&&X(),!!p)try{y("=> (invoked by go wasm) run exportDB method ");const s=await p.invoke("exportDB",void 0,{timeout:5e3});return y("=> (invoked by go wasm) run exportDB method with response ",JSON.stringify(s)),s}catch(s){se(s)}},window.getBlackListDB=i("getBlackList"),window.getBlackListUserID=i("getBlackListUserID"),window.getBlackInfoByBlockUserID=i("getBlackInfoByBlockUserID"),window.getBlackInfoList=i("getBlackInfoList"),window.insertBlack=i("insertBlack"),window.deleteBlack=i("deleteBlack"),window.updateBlack=i("updateBlack"),window.insertFriendRequest=i("insertFriendRequest"),window.deleteFriendRequestBothUserID=i("deleteFriendRequestBothUserID"),window.updateFriendRequest=i("updateFriendRequest"),window.getRecvFriendApplication=i("getRecvFriendApplication"),window.getSendFriendApplication=i("getSendFriendApplication"),window.getFriendApplicationByBothID=i("getFriendApplicationByBothID"),window.getBothFriendReq=i("getBothFriendReq"),window.insertFriend=i("insertFriend"),window.deleteFriendDB=i("deleteFriend"),window.updateFriend=i("updateFriend"),window.getAllFriendList=i("getAllFriendList"),window.searchFriendList=i("searchFriendList"),window.getFriendInfoByFriendUserID=i("getFriendInfoByFriendUserID"),window.getFriendInfoList=i("getFriendInfoList"),window.getPageFriendList=i("getPageFriendList"),window.updateColumnsFriend=i("updateColumnsFriend"),window.insertGroup=i("insertGroup"),window.deleteGroup=i("deleteGroup"),window.updateGroup=i("updateGroup"),window.getJoinedGroupListDB=i("getJoinedGroupList"),window.getGroupInfoByGroupID=i("getGroupInfoByGroupID"),window.getAllGroupInfoByGroupIDOrGroupName=i("getAllGroupInfoByGroupIDOrGroupName"),window.subtractMemberCount=i("subtractMemberCount"),window.addMemberCount=i("addMemberCount"),window.getJoinedWorkingGroupIDList=i("getJoinedWorkingGroupIDList"),window.getJoinedWorkingGroupList=i("getJoinedWorkingGroupList"),window.getGroupMemberAllGroupIDs=i("getGroupMemberAllGroupIDs"),window.getUserJoinedGroupIDs=i("getUserJoinedGroupIDs"),window.getGroups=i("getGroups"),window.insertGroupRequest=i("insertGroupRequest"),window.deleteGroupRequest=i("deleteGroupRequest"),window.updateGroupRequest=i("updateGroupRequest"),window.getSendGroupApplication=i("getSendGroupApplication"),window.insertAdminGroupRequest=i("insertAdminGroupRequest"),window.deleteAdminGroupRequest=i("deleteAdminGroupRequest"),window.updateAdminGroupRequest=i("updateAdminGroupRequest"),window.getAdminGroupApplication=i("getAdminGroupApplication"),window.getGroupMemberInfoByGroupIDUserID=i("getGroupMemberInfoByGroupIDUserID"),window.getAllGroupMemberList=i("getAllGroupMemberList"),window.getAllGroupMemberUserIDList=i("getAllGroupMemberUserIDList"),window.getGroupMemberCount=i("getGroupMemberCount"),window.getGroupSomeMemberInfo=i("getGroupSomeMemberInfo"),window.getGroupAdminID=i("getGroupAdminID"),window.getGroupMemberListByGroupID=i("getGroupMemberListByGroupID"),window.getGroupMemberListSplit=i("getGroupMemberListSplit"),window.getGroupMemberOwnerAndAdminDB=i("getGroupMemberOwnerAndAdmin"),window.getGroupMemberOwner=i("getGroupMemberOwner"),window.getGroupMemberListSplitByJoinTimeFilter=i("getGroupMemberListSplitByJoinTimeFilter"),window.getGroupOwnerAndAdminByGroupID=i("getGroupOwnerAndAdminByGroupID"),window.getGroupMemberUIDListByGroupID=i("getGroupMemberUIDListByGroupID"),window.insertGroupMember=i("insertGroupMember"),window.batchInsertGroupMember=i("batchInsertGroupMember"),window.deleteGroupMember=i("deleteGroupMember"),window.deleteGroupAllMembers=i("deleteGroupAllMembers"),window.updateGroupMember=i("updateGroupMember"),window.updateGroupMemberField=i("updateGroupMemberField"),window.searchGroupMembersDB=i("searchGroupMembers","searchGroupMembersDB"),window.batchInsertTempCacheMessageList=i("batchInsertTempCacheMessageList"),window.InsertTempCacheMessage=i("InsertTempCacheMessage"),window.getNotificationAllSeqs=i("getNotificationAllSeqs"),window.setNotificationSeq=i("setNotificationSeq"))}const ye=p==null?void 0:p.connect(5e3);class Se{constructor(){this.events={}}emit(s,d){return this.events[s]&&this.events[s].forEach(e=>e(d)),this}on(s,d){return this.events[s]?this.events[s].push(d):this.events[s]=[d],this}off(s,d){if(s&&typeof d=="function"&&this.events[s]){const e=this.events[s];if(!e||e.length===0)return;const t=e.findIndex(r=>r===d);t!==-1&&e.splice(t,1)}return this}}let b;const be=new Uint8Array(16);function Ie(){if(!b&&(b=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!b))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return b(be)}const c=[];for(let n=0;n<256;++n)c.push((n+256).toString(16).slice(1));function fe(n,s=0){return(c[n[s+0]]+c[n[s+1]]+c[n[s+2]]+c[n[s+3]]+"-"+c[n[s+4]]+c[n[s+5]]+"-"+c[n[s+6]]+c[n[s+7]]+"-"+c[n[s+8]]+c[n[s+9]]+"-"+c[n[s+10]]+c[n[s+11]]+c[n[s+12]]+c[n[s+13]]+c[n[s+14]]+c[n[s+15]]).toLowerCase()}const ke=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var B={randomUUID:ke};function o(n,s,d){if(B.randomUUID&&!s&&!n)return B.randomUUID();n=n||{};const e=n.random||(n.rng||Ie)();if(e[6]=e[6]&15|64,e[8]=e[8]&63|128,s){d=d||0;for(let t=0;t<16;++t)s[d+t]=e[t];return s}return fe(e)}async function Ce(n){return new Promise(s=>{const d=setTimeout(()=>{clearTimeout(d),s(null)},n)})}function k(n,s){return`font-size:14px; background:${n??"#ffffff"}; color:${s??"#000000"}; border-radius:4px; padding-inline:4px;`}let G,oe;async function Ze(n){if(typeof window>"u")return Promise.resolve(null);if(G=new Go,"instantiateStreaming"in WebAssembly){const s=await WebAssembly.instantiateStreaming(fetch(n),G.importObject);G.run(s.instance)}else{const s=await fetch(n).then(e=>e.arrayBuffer()),d=await WebAssembly.instantiate(s,G.importObject);oe=G.run(d.instance)}return await Ce(100),G}function D(){return G}function Le(){return oe}class Re extends Se{constructor(s="/openIM.wasm",d=!0){super(),this.goExisted=!1,this.tryParse=!0,this.isLogStandardOutput=!0,this.login=async(e,t=o())=>{var r,a;this._logWrap(`SDK => (invoked by js) run login with args ${JSON.stringify({params:e,operationID:t})}`),await ye,await this.wasmInitializedPromise,window.commonEventFunc(l=>{try{this._logWrap(`%cSDK =>%c received event %c${l}%c `,k("#282828","#ffffff"),"","color: #4f2398;","");const w=JSON.parse(l);if(this.tryParse)try{w.data=JSON.parse(w.data)}catch{}this.emit(w.event,w)}catch(w){console.error(w)}});const u={platformID:e.platformID,apiAddr:e.apiAddr,wsAddr:e.wsAddr,dataDir:"./",logLevel:e.logLevel||5,isLogStandardOutput:(r=e.isLogStandardOutput)!==null&&r!==void 0?r:this.isLogStandardOutput,logFilePath:"./",isExternalExtensions:e.isExternalExtensions||!1};return this.tryParse=(a=e.tryParse)!==null&&a!==void 0?a:!0,window.initSDK(t,JSON.stringify(u)),await window.login(t,e.userID,e.token)},this.logout=(e=o())=>(window.fileMapClear(),this._invoker("logout",window.logout,[e])),this.getAllConversationList=(e=o())=>this._invoker("getAllConversationList",window.getAllConversationList,[e]),this.getOneConversation=(e,t=o())=>this._invoker("getOneConversation",window.getOneConversation,[t,e.sessionType,e.sourceID]),this.getAdvancedHistoryMessageList=(e,t=o())=>this._invoker("getAdvancedHistoryMessageList",window.getAdvancedHistoryMessageList,[t,JSON.stringify(e)]),this.getAdvancedHistoryMessageListReverse=(e,t=o())=>this._invoker("getAdvancedHistoryMessageListReverse",window.getAdvancedHistoryMessageListReverse,[t,JSON.stringify(e)]),this.getSpecifiedGroupsInfo=(e,t=o())=>this._invoker("getSpecifiedGroupsInfo",window.getSpecifiedGroupsInfo,[t,JSON.stringify(e)]),this.deleteConversationAndDeleteAllMsg=(e,t=o())=>this._invoker("deleteConversationAndDeleteAllMsg",window.deleteConversationAndDeleteAllMsg,[t,e]),this.markConversationMessageAsRead=(e,t=o())=>this._invoker("markConversationMessageAsRead",window.markConversationMessageAsRead,[t,e]),this.sendGroupMessageReadReceipt=(e,t=o())=>this._invoker("sendGroupMessageReadReceipt",window.sendGroupMessageReadReceipt,[t,e.conversationID,JSON.stringify(e.clientMsgIDList)]),this.getGroupMessageReaderList=(e,t=o())=>this._invoker("getGroupMessageReaderList",window.getGroupMessageReaderList,[t,e.conversationID,e.clientMsgID,e.filter,e.offset,e.count]),this.getGroupMemberList=(e,t=o())=>this._invoker("getGroupMemberList",window.getGroupMemberList,[t,e.groupID,e.filter,e.offset,e.count]),this.createTextMessage=(e,t=o())=>this._invoker("createTextMessage",window.createTextMessage,[t,e],r=>r[0]),this.createImageMessageByURL=(e,t=o())=>this._invoker("createImageMessageByURL",window.createImageMessageByURL,[t,e.sourcePath,JSON.stringify(e.sourcePicture),JSON.stringify(e.bigPicture),JSON.stringify(e.snapshotPicture)],r=>r[0]),this.createImageMessageByFile=(e,t=o())=>(e.sourcePicture.uuid=`${e.sourcePicture.uuid}/${e.file.name}`,window.fileMapSet(e.sourcePicture.uuid,e.file),this._invoker("createImageMessageByFile",window.createImageMessageByURL,[t,e.sourcePath,JSON.stringify(e.sourcePicture),JSON.stringify(e.bigPicture),JSON.stringify(e.snapshotPicture)],r=>r[0])),this.createCustomMessage=(e,t=o())=>this._invoker("createCustomMessage",window.createCustomMessage,[t,e.data,e.extension,e.description],r=>r[0]),this.createQuoteMessage=(e,t=o())=>this._invoker("createQuoteMessage",window.createQuoteMessage,[t,e.text,e.message],r=>r[0]),this.createAdvancedQuoteMessage=(e,t=o())=>this._invoker("createAdvancedQuoteMessage",window.createAdvancedQuoteMessage,[t,e.text,JSON.stringify(e.message),JSON.stringify(e.messageEntityList)],r=>r[0]),this.createAdvancedTextMessage=(e,t=o())=>this._invoker("createAdvancedTextMessage",window.createAdvancedTextMessage,[t,e.text,JSON.stringify(e.messageEntityList)],r=>r[0]),this.sendMessage=(e,t=o())=>{var r,a;const u=(r=e.offlinePushInfo)!==null&&r!==void 0?r:{title:"你有一条新消息",desc:"",ex:"",iOSPushSound:"+1",iOSBadgeCount:!0};return this._invoker("sendMessage",window.sendMessage,[t,JSON.stringify(e.message),e.recvID,e.groupID,JSON.stringify(u),(a=e.isOnlineOnly)!==null&&a!==void 0?a:!1])},this.sendMessageNotOss=(e,t=o())=>{var r,a;const u=(r=e.offlinePushInfo)!==null&&r!==void 0?r:{title:"你有一条新消息",desc:"",ex:"",iOSPushSound:"+1",iOSBadgeCount:!0};return this._invoker("sendMessageNotOss",window.sendMessageNotOss,[t,JSON.stringify(e.message),e.recvID,e.groupID,JSON.stringify(u),(a=e.isOnlineOnly)!==null&&a!==void 0?a:!1])},this.setMessageLocalEx=(e,t=o())=>this._invoker("setMessageLocalEx",window.setMessageLocalEx,[t,e.conversationID,e.clientMsgID,e.localEx]),this.getHistoryMessageListReverse=(e,t=o())=>this._invoker("getHistoryMessageListReverse",window.getHistoryMessageListReverse,[t,JSON.stringify(e)]),this.revokeMessage=(e,t=o())=>this._invoker("revokeMessage",window.revokeMessage,[t,e.conversationID,e.clientMsgID]),this.setConversationPrivateChat=(e,t=o())=>this._invoker("setConversationPrivateChat",window.setConversationPrivateChat,[t,e.conversationID,e.isPrivate]),this.setConversationBurnDuration=(e,t=o())=>this._invoker("setConversationBurnDuration",window.setConversationBurnDuration,[t,e.conversationID,e.burnDuration]),this.getLoginStatus=(e=o())=>this._invoker("getLoginStatus",window.getLoginStatus,[e],t=>t[0]),this.setAppBackgroundStatus=(e,t=o())=>this._invoker("setAppBackgroundStatus",window.setAppBackgroundStatus,[t,e]),this.networkStatusChanged=(e=o())=>this._invoker("networkStatusChanged ",window.networkStatusChanged,[e]),this.getLoginUserID=(e=o())=>this._invoker("getLoginUserID",window.getLoginUserID,[e]),this.getSelfUserInfo=(e=o())=>this._invoker("getSelfUserInfo",window.getSelfUserInfo,[e]),this.getUsersInfo=(e,t=o())=>this._invoker("getUsersInfo",window.getUsersInfo,[t,JSON.stringify(e)]),this.getUsersInfoWithCache=(e,t=o())=>this._invoker("getUsersInfoWithCache",window.getUsersInfoWithCache,[t,JSON.stringify(e.userIDList),e.groupID]),this.setSelfInfo=(e,t=o())=>this._invoker("setSelfInfo",window.setSelfInfo,[t,JSON.stringify(e)]),this.createTextAtMessage=(e,t=o())=>{var r;return this._invoker("createTextAtMessage",window.createTextAtMessage,[t,e.text,JSON.stringify(e.atUserIDList),JSON.stringify(e.atUsersInfo),(r=JSON.stringify(e.message))!==null&&r!==void 0?r:""],a=>a[0])},this.createSoundMessageByURL=(e,t=o())=>this._invoker("createSoundMessageByURL",window.createSoundMessageByURL,[t,JSON.stringify(e)],r=>r[0]),this.createSoundMessageByFile=(e,t=o())=>(e.uuid=`${e.uuid}/${e.file.name}`,window.fileMapSet(e.uuid,e.file),this._invoker("createSoundMessageByFile",window.createSoundMessageByURL,[t,JSON.stringify(e)],r=>r[0])),this.createVideoMessageByURL=(e,t=o())=>this._invoker("createVideoMessageByURL",window.createVideoMessageByURL,[t,JSON.stringify(e)],r=>r[0]),this.createVideoMessageByFile=(e,t=o())=>(e.videoUUID=`${e.videoUUID}/${e.videoFile.name}`,e.snapshotUUID=`${e.snapshotUUID}/${e.snapshotFile.name}`,window.fileMapSet(e.videoUUID,e.videoFile),window.fileMapSet(e.snapshotUUID,e.snapshotFile),this._invoker("createVideoMessageByFile",window.createVideoMessageByURL,[t,JSON.stringify(e)],r=>r[0])),this.createFileMessageByURL=(e,t=o())=>this._invoker("createFileMessageByURL",window.createFileMessageByURL,[t,JSON.stringify(e)],r=>r[0]),this.createFileMessageByFile=(e,t=o())=>(e.uuid=`${e.uuid}/${e.file.name}`,window.fileMapSet(e.uuid,e.file),this._invoker("createFileMessageByFile",window.createFileMessageByURL,[t,JSON.stringify(e)],r=>r[0])),this.createMergerMessage=(e,t=o())=>this._invoker("createMergerMessage ",window.createMergerMessage,[t,JSON.stringify(e.messageList),e.title,JSON.stringify(e.summaryList)],r=>r[0]),this.createForwardMessage=(e,t=o())=>this._invoker("createForwardMessage ",window.createForwardMessage,[t,JSON.stringify(e)],r=>r[0]),this.createFaceMessage=(e,t=o())=>this._invoker("createFaceMessage ",window.createFaceMessage,[t,e.index,e.data],r=>r[0]),this.createLocationMessage=(e,t=o())=>this._invoker("createLocationMessage ",window.createLocationMessage,[t,e.description,e.longitude,e.latitude],r=>r[0]),this.createCardMessage=(e,t=o())=>this._invoker("createCardMessage ",window.createCardMessage,[t,JSON.stringify(e)],r=>r[0]),this.deleteMessageFromLocalStorage=(e,t=o())=>this._invoker("deleteMessageFromLocalStorage ",window.deleteMessageFromLocalStorage,[t,e.conversationID,e.clientMsgID]),this.deleteMessage=(e,t=o())=>this._invoker("deleteMessage ",window.deleteMessage,[t,e.conversationID,e.clientMsgID]),this.deleteAllConversationFromLocal=(e=o())=>this._invoker("deleteAllConversationFromLocal ",window.deleteAllConversationFromLocal,[e]),this.deleteAllMsgFromLocal=(e=o())=>this._invoker("deleteAllMsgFromLocal ",window.deleteAllMsgFromLocal,[e]),this.deleteAllMsgFromLocalAndSvr=(e=o())=>this._invoker("deleteAllMsgFromLocalAndSvr ",window.deleteAllMsgFromLocalAndSvr,[e]),this.insertSingleMessageToLocalStorage=(e,t=o())=>this._invoker("insertSingleMessageToLocalStorage ",window.insertSingleMessageToLocalStorage,[t,JSON.stringify(e.message),e.recvID,e.sendID]),this.insertGroupMessageToLocalStorage=(e,t=o())=>this._invoker("insertGroupMessageToLocalStorage ",window.insertGroupMessageToLocalStorage,[t,JSON.stringify(e.message),e.groupID,e.sendID]),this.typingStatusUpdate=(e,t=o())=>this._invoker("typingStatusUpdate ",window.typingStatusUpdate,[t,e.recvID,e.msgTip]),this.clearConversationAndDeleteAllMsg=(e,t=o())=>this._invoker("clearConversationAndDeleteAllMsg ",window.clearConversationAndDeleteAllMsg,[t,e]),this.hideConversation=(e,t=o())=>this._invoker("hideConversation ",window.hideConversation,[t,e]),this.getConversationListSplit=(e,t=o())=>this._invoker("getConversationListSplit ",window.getConversationListSplit,[t,e.offset,e.count]),this.setConversationEx=(e,t=o())=>this._invoker("setConversationEx ",window.setConversationEx,[t,e.conversationID,e.ex]),this.getConversationIDBySessionType=(e,t=o())=>this._invoker("getConversationIDBySessionType ",window.getConversationIDBySessionType,[t,e.sourceID,e.sessionType]),this.getMultipleConversation=(e,t=o())=>this._invoker("getMultipleConversation ",window.getMultipleConversation,[t,JSON.stringify(e)]),this.deleteConversation=(e,t=o())=>this._invoker("deleteConversation ",window.deleteConversation,[t,e]),this.setConversationDraft=(e,t=o())=>this._invoker("setConversationDraft ",window.setConversationDraft,[t,e.conversationID,e.draftText]),this.pinConversation=(e,t=o())=>this._invoker("pinConversation ",window.pinConversation,[t,e.conversationID,e.isPinned]),this.getTotalUnreadMsgCount=(e=o())=>this._invoker("getTotalUnreadMsgCount ",window.getTotalUnreadMsgCount,[e]),this.getConversationRecvMessageOpt=(e,t=o())=>this._invoker("getConversationRecvMessageOpt ",window.getConversationRecvMessageOpt,[t,JSON.stringify(e)]),this.setConversationRecvMessageOpt=(e,t=o())=>this._invoker("setConversationRecvMessageOpt ",window.setConversationRecvMessageOpt,[t,e.conversationID,e.opt]),this.searchLocalMessages=(e,t=o())=>this._invoker("searchLocalMessages ",window.searchLocalMessages,[t,JSON.stringify(e)]),this.addFriend=(e,t=o())=>this._invoker("addFriend ",window.addFriend,[t,JSON.stringify(e)]),this.searchFriends=(e,t=o())=>this._invoker("searchFriends ",window.searchFriends,[t,JSON.stringify(e)]),this.getSpecifiedFriendsInfo=(e,t=o())=>this._invoker("getSpecifiedFriendsInfo ",window.getSpecifiedFriendsInfo,[t,JSON.stringify(e)]),this.getFriendApplicationListAsRecipient=(e=o())=>this._invoker("getFriendApplicationListAsRecipient ",window.getFriendApplicationListAsRecipient,[e]),this.getFriendApplicationListAsApplicant=(e=o())=>this._invoker("getFriendApplicationListAsApplicant ",window.getFriendApplicationListAsApplicant,[e]),this.getFriendList=(e=o())=>this._invoker("getFriendList ",window.getFriendList,[e]),this.setFriendRemark=(e,t=o())=>this._invoker("setFriendRemark ",window.setFriendRemark,[t,JSON.stringify(e)]),this.pinFriends=(e,t=o())=>this._invoker("pinFriends ",window.pinFriends,[t,JSON.stringify(e)]),this.setFriendsEx=(e,t=o())=>this._invoker("setFriendsEx ",window.setFriendsEx,[t,JSON.stringify(e.toUserIDs),e.ex]),this.checkFriend=(e,t=o())=>this._invoker("checkFriend",window.checkFriend,[t,JSON.stringify(e)]),this.acceptFriendApplication=(e,t=o())=>this._invoker("acceptFriendApplication",window.acceptFriendApplication,[t,JSON.stringify(e)]),this.refuseFriendApplication=(e,t=o())=>this._invoker("refuseFriendApplication ",window.refuseFriendApplication,[t,JSON.stringify(e)]),this.deleteFriend=(e,t=o())=>this._invoker("deleteFriend ",window.deleteFriend,[t,e]),this.addBlack=(e,t=o())=>{var r;return this._invoker("addBlack ",window.addBlack,[t,e.toUserID,(r=e.ex)!==null&&r!==void 0?r:""])},this.removeBlack=(e,t=o())=>this._invoker("removeBlack ",window.removeBlack,[t,e]),this.getBlackList=(e=o())=>this._invoker("getBlackList ",window.getBlackList,[e]),this.inviteUserToGroup=(e,t=o())=>this._invoker("inviteUserToGroup ",window.inviteUserToGroup,[t,e.groupID,e.reason,JSON.stringify(e.userIDList)]),this.kickGroupMember=(e,t=o())=>this._invoker("kickGroupMember ",window.kickGroupMember,[t,e.groupID,e.reason,JSON.stringify(e.userIDList)]),this.isJoinGroup=(e,t=o())=>this._invoker("isJoinGroup ",window.isJoinGroup,[t,e]),this.getSpecifiedGroupMembersInfo=(e,t=o())=>this._invoker("getSpecifiedGroupMembersInfo ",window.getSpecifiedGroupMembersInfo,[t,e.groupID,JSON.stringify(e.userIDList)]),this.getGroupMemberListByJoinTimeFilter=(e,t=o())=>this._invoker("getGroupMemberListByJoinTimeFilter ",window.getGroupMemberListByJoinTimeFilter,[t,e.groupID,e.offset,e.count,e.joinTimeBegin,e.joinTimeEnd,JSON.stringify(e.filterUserIDList)]),this.searchGroupMembers=(e,t=o())=>this._invoker("searchGroupMembers ",window.searchGroupMembers,[t,JSON.stringify(e)]),this.setGroupApplyMemberFriend=(e,t=o())=>this._invoker("setGroupApplyMemberFriend ",window.setGroupApplyMemberFriend,[t,e.groupID,e.rule]),this.setGroupLookMemberInfo=(e,t=o())=>this._invoker("setGroupLookMemberInfo ",window.setGroupLookMemberInfo,[t,e.groupID,e.rule]),this.getJoinedGroupList=(e=o())=>this._invoker("getJoinedGroupList ",window.getJoinedGroupList,[e]),this.createGroup=(e,t=o())=>this._invoker("createGroup ",window.createGroup,[t,JSON.stringify(e)]),this.setGroupInfo=(e,t=o())=>this._invoker("setGroupInfo ",window.setGroupInfo,[t,JSON.stringify(e)]),this.setGroupMemberNickname=(e,t=o())=>this._invoker("setGroupMemberNickname ",window.setGroupMemberNickname,[t,e.groupID,e.userID,e.groupMemberNickname]),this.setGroupMemberInfo=(e,t=o())=>this._invoker("setGroupMemberInfo ",window.setGroupMemberInfo,[t,JSON.stringify(e)]),this.joinGroup=(e,t=o())=>{var r;return this._invoker("joinGroup ",window.joinGroup,[t,e.groupID,e.reqMsg,e.joinSource,(r=e.ex)!==null&&r!==void 0?r:""])},this.searchGroups=(e,t=o())=>this._invoker("searchGroups ",window.searchGroups,[t,JSON.stringify(e)]),this.quitGroup=(e,t=o())=>this._invoker("quitGroup ",window.quitGroup,[t,e]),this.dismissGroup=(e,t=o())=>this._invoker("dismissGroup ",window.dismissGroup,[t,e]),this.changeGroupMute=(e,t=o())=>this._invoker("changeGroupMute ",window.changeGroupMute,[t,e.groupID,e.isMute]),this.changeGroupMemberMute=(e,t=o())=>this._invoker("changeGroupMemberMute ",window.changeGroupMemberMute,[t,e.groupID,e.userID,e.mutedSeconds]),this.transferGroupOwner=(e,t=o())=>this._invoker("transferGroupOwner ",window.transferGroupOwner,[t,e.groupID,e.newOwnerUserID]),this.getGroupApplicationListAsApplicant=(e=o())=>this._invoker("getGroupApplicationListAsApplicant ",window.getGroupApplicationListAsApplicant,[e]),this.getGroupApplicationListAsRecipient=(e=o())=>this._invoker("getGroupApplicationListAsRecipient ",window.getGroupApplicationListAsRecipient,[e]),this.acceptGroupApplication=(e,t=o())=>this._invoker("acceptGroupApplication ",window.acceptGroupApplication,[t,e.groupID,e.fromUserID,e.handleMsg]),this.refuseGroupApplication=(e,t=o())=>this._invoker("refuseGroupApplication ",window.refuseGroupApplication,[t,e.groupID,e.fromUserID,e.handleMsg]),this.resetConversationGroupAtType=(e,t=o())=>this._invoker("resetConversationGroupAtType ",window.resetConversationGroupAtType,[t,e]),this.setGroupMemberRoleLevel=(e,t=o())=>this._invoker("setGroupMemberRoleLevel ",window.setGroupMemberRoleLevel,[t,e.groupID,e.userID,e.roleLevel]),this.setGroupVerification=(e,t=o())=>this._invoker("setGroupVerification ",window.setGroupVerification,[t,e.groupID,e.verification]),this.getGroupMemberOwnerAndAdmin=(e,t=o())=>this._invoker("getGroupMemberOwnerAndAdmin ",window.getGroupMemberOwnerAndAdmin,[t,e]),this.setGlobalRecvMessageOpt=(e,t=o())=>this._invoker("setGlobalRecvMessageOpt ",window.setGlobalRecvMessageOpt,[t,e]),this.findMessageList=(e,t=o())=>this._invoker("findMessageList ",window.findMessageList,[t,JSON.stringify(e)]),this.uploadFile=(e,t=o())=>{var r;return e.uuid=`${e.uuid}/${(r=e.file)===null||r===void 0?void 0:r.name}`,window.fileMapSet(e.uuid,e.file),this._invoker("uploadFile ",window.uploadFile,[t,JSON.stringify({...e,filepath:"",cause:""})])},this.subscribeUsersStatus=(e,t=o())=>this._invoker("subscribeUsersStatus ",window.subscribeUsersStatus,[t,JSON.stringify(e)]),this.unsubscribeUsersStatus=(e,t=o())=>this._invoker("unsubscribeUsersStatus ",window.unsubscribeUsersStatus,[t,JSON.stringify(e)]),this.getUserStatus=(e=o())=>this._invoker("getUserStatus ",window.getUserStatus,[e]),this.getSubscribeUsersStatus=(e=o())=>this._invoker("getSubscribeUsersStatus ",window.getSubscribeUsersStatus,[e]),this.signalingInvite=(e,t=o())=>this._invoker("signalingInvite ",window.signalingInvite,[t,JSON.stringify(e)]),this.signalingInviteInGroup=(e,t=o())=>this._invoker("signalingInviteInGroup ",window.signalingInviteInGroup,[t,JSON.stringify(e)]),this.signalingAccept=(e,t=o())=>this._invoker("signalingAccept ",window.signalingAccept,[t,JSON.stringify(e)]),this.signalingReject=(e,t=o())=>this._invoker("signalingReject ",window.signalingReject,[t,JSON.stringify(e)]),this.signalingCancel=(e,t=o())=>this._invoker("signalingCancel ",window.signalingCancel,[t,JSON.stringify(e)]),this.signalingHungUp=(e,t=o())=>this._invoker("signalingHungUp ",window.signalingHungUp,[t,JSON.stringify(e)]),this.signalingGetRoomByGroupID=(e,t=o())=>this._invoker("signalingGetRoomByGroupID ",window.signalingGetRoomByGroupID,[t,e]),this.signalingGetTokenByRoomID=(e,t=o())=>this._invoker("signalingGetTokenByRoomID ",window.signalingGetTokenByRoomID,[t,e]),this.signalingSendCustomSignal=(e,t=o())=>this._invoker("signalingSendCustomSignal ",window.signalingSendCustomSignal,[t,e.customInfo,e.roomID]),this.signalingCreateMeeting=(e,t=o())=>this._invoker("signalingCreateMeeting ",window.signalingCreateMeeting,[t,JSON.stringify(e)]),this.signalingJoinMeeting=(e,t=o())=>this._invoker("signalingJoinMeeting ",window.signalingJoinMeeting,[t,JSON.stringify({roomID:e})]),this.signalingUpdateMeetingInfo=(e,t=o())=>this._invoker("signalingUpdateMeetingInfo ",window.signalingUpdateMeetingInfo,[t,JSON.stringify(e)]),this.signalingCloseRoom=(e,t=o())=>this._invoker("signalingCloseRoom ",window.signalingCloseRoom,[t,e]),this.signalingGetMeetings=(e=o())=>this._invoker("signalingGetMeetings ",window.signalingGetMeetings,[e]),this.signalingOperateStream=(e,t=o())=>this._invoker("signalingOperateStream ",window.signalingOperateStream,[t,e.streamType,e.roomID,e.userID,e.mute,e.muteAll]),this.setConversationIsMsgDestruct=(e,t=o())=>this._invoker("setConversationIsMsgDestruct ",window.setConversationIsMsgDestruct,[t,e.conversationID,e.isMsgDestruct]),this.setConversationMsgDestructTime=(e,t=o())=>this._invoker("setConversationMsgDestructTime ",window.setConversationMsgDestructTime,[t,e.conversationID,e.msgDestructTime]),this.fileMapSet=(e,t)=>window.fileMapSet(e,t),Me(d),this.isLogStandardOutput=d,this.wasmInitializedPromise=Ze(s),this.goExitPromise=Le(),this.goExitPromise&&this.goExitPromise.then(()=>{this._logWrap("SDK => wasm exist")}).catch(e=>{this._logWrap("SDK => wasm with error ",e)}).finally(()=>{this.goExisted=!0})}_logWrap(...s){this.isLogStandardOutput&&console.info(...s)}_invoker(s,d,e,t){return new Promise(async(r,a)=>{this._logWrap(`%cSDK =>%c [OperationID:${e[0]}] (invoked by js) run ${s} with args ${JSON.stringify(e)}`,"font-size:14px; background:#7CAEFF; border-radius:4px; padding-inline:4px;","");let u={operationID:e[0],event:s.slice(0,1).toUpperCase()+s.slice(1).toLowerCase()};try{if(!D()||D().exited||this.goExisted)throw"wasm exist already, fail to run";let l=await d(...e);if(t&&(this._logWrap(`%cSDK =>%c [OperationID:${e[0]}] (invoked by js) run ${s} with response before processor ${JSON.stringify(l)}`,k("#FFDC19"),""),l=t(l)),this.tryParse)try{l=JSON.parse(l)}catch{}u.data=l,r(u)}catch(l){this._logWrap(`%cSDK =>%c [OperationID:${e[0]}] (invoked by js) run ${s} with error ${JSON.stringify(l)}`,k("#EE4245"),""),u={...u,...l},a(u)}})}exportDB(s=o()){return this._invoker("exportDB",window.exportDB,[s])}}let I;function Ue(n){const{sqlWasmPath:s,coreWasmPath:d="/openIM.wasm",debug:e=!0}=n||{};return typeof window>"u"?{}:I||(I=new Re(d,e),s&&window.setSqlWasmPath(s),I)}var V;(function(n){n[n.Nomal=0]="Nomal",n[n.NotReceive=1]="NotReceive",n[n.NotNotify=2]="NotNotify"})(V||(V={}));var F;(function(n){n[n.Allowed=0]="Allowed",n[n.NotAllowed=1]="NotAllowed"})(F||(F={}));var x;(function(n){n[n.Group=2]="Group",n[n.WorkingGroup=2]="WorkingGroup"})(x||(x={}));var K;(function(n){n[n.Invitation=2]="Invitation",n[n.Search=3]="Search",n[n.QrCode=4]="QrCode"})(K||(K={}));var _;(function(n){n[n.Nomal=20]="Nomal",n[n.Admin=60]="Admin",n[n.Owner=100]="Owner"})(_||(_={}));var J;(function(n){n[n.ApplyNeedInviteNot=0]="ApplyNeedInviteNot",n[n.AllNeed=1]="AllNeed",n[n.AllNot=2]="AllNot"})(J||(J={}));var Y;(function(n){n[n.Sending=1]="Sending",n[n.Succeed=2]="Succeed",n[n.Failed=3]="Failed"})(Y||(Y={}));var z;(function(n){n[n.iOS=1]="iOS",n[n.Android=2]="Android",n[n.Windows=3]="Windows",n[n.MacOSX=4]="MacOSX",n[n.Web=5]="Web",n[n.Linux=7]="Linux",n[n.AndroidPad=8]="AndroidPad",n[n.iPad=9]="iPad"})(z||(z={}));var H;(function(n){n[n.Debug=5]="Debug",n[n.Info=4]="Info",n[n.Warn=3]="Warn",n[n.Error=2]="Error",n[n.Fatal=1]="Fatal",n[n.Panic=0]="Panic"})(H||(H={}));var P;(function(n){n[n.Unprocessed=0]="Unprocessed",n[n.Agree=1]="Agree",n[n.Reject=-1]="Reject"})(P||(P={}));var Q;(function(n){n[n.TextMessage=101]="TextMessage",n[n.PictureMessage=102]="PictureMessage",n[n.VoiceMessage=103]="VoiceMessage",n[n.VideoMessage=104]="VideoMessage",n[n.FileMessage=105]="FileMessage",n[n.AtTextMessage=106]="AtTextMessage",n[n.MergeMessage=107]="MergeMessage",n[n.CardMessage=108]="CardMessage",n[n.LocationMessage=109]="LocationMessage",n[n.CustomMessage=110]="CustomMessage",n[n.TypingMessage=113]="TypingMessage",n[n.QuoteMessage=114]="QuoteMessage",n[n.FaceMessage=115]="FaceMessage",n[n.FriendAdded=1201]="FriendAdded",n[n.OANotification=1400]="OANotification",n[n.GroupCreated=1501]="GroupCreated",n[n.GroupInfoUpdated=1502]="GroupInfoUpdated",n[n.MemberQuit=1504]="MemberQuit",n[n.GroupOwnerTransferred=1507]="GroupOwnerTransferred",n[n.MemberKicked=1508]="MemberKicked",n[n.MemberInvited=1509]="MemberInvited",n[n.MemberEnter=1510]="MemberEnter",n[n.GroupDismissed=1511]="GroupDismissed",n[n.GroupMemberMuted=1512]="GroupMemberMuted",n[n.GroupMemberCancelMuted=1513]="GroupMemberCancelMuted",n[n.GroupMuted=1514]="GroupMuted",n[n.GroupCancelMuted=1515]="GroupCancelMuted",n[n.GroupAnnouncementUpdated=1519]="GroupAnnouncementUpdated",n[n.GroupNameUpdated=1520]="GroupNameUpdated",n[n.BurnMessageChange=1701]="BurnMessageChange",n[n.RevokeMessage=2101]="RevokeMessage"})(Q||(Q={}));var T;(function(n){n[n.Single=1]="Single",n[n.Group=3]="Group",n[n.WorkingGroup=3]="WorkingGroup",n[n.Notification=4]="Notification"})(T||(T={}));var E;(function(n){n[n.Nomal=0]="Nomal",n[n.Baned=1]="Baned",n[n.Dismissed=2]="Dismissed",n[n.Muted=3]="Muted"})(E||(E={}));var j;(function(n){n[n.AtNormal=0]="AtNormal",n[n.AtMe=1]="AtMe",n[n.AtAll=2]="AtAll",n[n.AtAllAtMe=3]="AtAllAtMe",n[n.AtGroupNotice=4]="AtGroupNotice"})(j||(j={}));var q;(function(n){n[n.All=0]="All",n[n.Owner=1]="Owner",n[n.Admin=2]="Admin",n[n.Nomal=3]="Nomal",n[n.AdminAndNomal=4]="AdminAndNomal",n[n.AdminAndOwner=5]="AdminAndOwner"})(q||(q={}));var $;(function(n){n[n.isBlack=0]="isBlack",n[n.isFriend=1]="isFriend"})($||($={}));var ee;(function(n){n[n.Logout=1]="Logout",n[n.Logging=2]="Logging",n[n.Logged=3]="Logged"})(ee||(ee={}));var ne;(function(n){n[n.Online=1]="Online",n[n.Offline=0]="Offline"})(ne||(ne={}));var te;(function(n){n[n.Readed=0]="Readed",n[n.UnRead=1]="UnRead"})(te||(te={}));function Xe(n,s){var d=atob(n);if(s){for(var e=new Uint8Array(d.length),t=0,r=d.length;t<r;++t)e[t]=d.charCodeAt(t);return String.fromCharCode.apply(null,new Uint16Array(e.buffer))}return d}function Oe(n,s,d){var e=s===void 0?null:s,t=d===void 0?!1:d,r=Xe(n,t),a=r.indexOf(`
`,10)+1,u=r.substring(a)+(e?"//# sourceMappingURL="+e:""),l=new Blob([u],{type:"application/javascript"});return URL.createObjectURL(l)}function We(n,s,d){var e;return function(r){return e=e||Oe(n,s,d),new Worker(e,r)}}var Ne=We("Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwohZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7bGV0IHQ9MzczNTkyODU1OTtjbGFzcyBle2NvbnN0cnVjdG9yKHQse2luaXRpYWxPZmZzZXQ6ZT00LHVzZUF0b21pY3M6aT0hMCxzdHJlYW06cz0hMCxkZWJ1ZzpyLG5hbWU6bn09e30pe3RoaXMuYnVmZmVyPXQsdGhpcy5hdG9taWNWaWV3PW5ldyBJbnQzMkFycmF5KHQpLHRoaXMub2Zmc2V0PWUsdGhpcy51c2VBdG9taWNzPWksdGhpcy5zdHJlYW09cyx0aGlzLmRlYnVnPXIsdGhpcy5uYW1lPW59bG9nKC4uLnQpe3RoaXMuZGVidWcmJmNvbnNvbGUubG9nKGBbcmVhZGVyOiAke3RoaXMubmFtZX1dYCwuLi50KX13YWl0V3JpdGUodCxlPW51bGwpe2lmKHRoaXMudXNlQXRvbWljcyl7Zm9yKHRoaXMubG9nKGB3YWl0aW5nIGZvciAke3R9YCk7MD09PUF0b21pY3MubG9hZCh0aGlzLmF0b21pY1ZpZXcsMCk7KXtpZihudWxsIT1lJiYidGltZWQtb3V0Ij09PUF0b21pY3Mud2FpdCh0aGlzLmF0b21pY1ZpZXcsMCwwLGUpKXRocm93IG5ldyBFcnJvcigidGltZW91dCIpO0F0b21pY3Mud2FpdCh0aGlzLmF0b21pY1ZpZXcsMCwwLDUwMCl9dGhpcy5sb2coYHJlc3VtZWQgZm9yICR7dH1gKX1lbHNlIGlmKDEhPT10aGlzLmF0b21pY1ZpZXdbMF0pdGhyb3cgbmV3IEVycm9yKCJgd2FpdFdyaXRlYCBleHBlY3RlZCBhcnJheSB0byBiZSByZWFkYWJsZSIpfWZsaXAoKXtpZih0aGlzLmxvZygiZmxpcCIpLHRoaXMudXNlQXRvbWljcyl7aWYoMSE9PUF0b21pY3MuY29tcGFyZUV4Y2hhbmdlKHRoaXMuYXRvbWljVmlldywwLDEsMCkpdGhyb3cgbmV3IEVycm9yKCJSZWFkIGRhdGEgb3V0IG9mIHN5bmMhIFRoaXMgaXMgZGlzYXN0cm91cyIpO0F0b21pY3Mubm90aWZ5KHRoaXMuYXRvbWljVmlldywwKX1lbHNlIHRoaXMuYXRvbWljVmlld1swXT0wO3RoaXMub2Zmc2V0PTR9ZG9uZSgpe3RoaXMud2FpdFdyaXRlKCJkb25lIik7bGV0IGU9bmV3IERhdGFWaWV3KHRoaXMuYnVmZmVyLHRoaXMub2Zmc2V0KS5nZXRVaW50MzIoMCk9PT10O3JldHVybiBlJiYodGhpcy5sb2coImRvbmUiKSx0aGlzLmZsaXAoKSksZX1wZWVrKHQpe3RoaXMucGVla09mZnNldD10aGlzLm9mZnNldDtsZXQgZT10KCk7cmV0dXJuIHRoaXMub2Zmc2V0PXRoaXMucGVla09mZnNldCx0aGlzLnBlZWtPZmZzZXQ9bnVsbCxlfXN0cmluZyh0KXt0aGlzLndhaXRXcml0ZSgic3RyaW5nIix0KTtsZXQgZT10aGlzLl9pbnQzMigpLGk9ZS8yLHM9bmV3IERhdGFWaWV3KHRoaXMuYnVmZmVyLHRoaXMub2Zmc2V0LGUpLHI9W107Zm9yKGxldCB0PTA7dDxpO3QrKylyLnB1c2gocy5nZXRVaW50MTYoMip0KSk7bGV0IG49U3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLHIpO3JldHVybiB0aGlzLmxvZygic3RyaW5nIixuKSx0aGlzLm9mZnNldCs9ZSxudWxsPT10aGlzLnBlZWtPZmZzZXQmJnRoaXMuZmxpcCgpLG59X2ludDMyKCl7bGV0IHQ9bmV3IERhdGFWaWV3KHRoaXMuYnVmZmVyLHRoaXMub2Zmc2V0KS5nZXRJbnQzMigpO3JldHVybiB0aGlzLmxvZygiX2ludDMyIix0KSx0aGlzLm9mZnNldCs9NCx0fWludDMyKCl7dGhpcy53YWl0V3JpdGUoImludDMyIik7bGV0IHQ9dGhpcy5faW50MzIoKTtyZXR1cm4gdGhpcy5sb2coImludDMyIix0KSxudWxsPT10aGlzLnBlZWtPZmZzZXQmJnRoaXMuZmxpcCgpLHR9Ynl0ZXMoKXt0aGlzLndhaXRXcml0ZSgiYnl0ZXMiKTtsZXQgdD10aGlzLl9pbnQzMigpLGU9bmV3IEFycmF5QnVmZmVyKHQpO3JldHVybiBuZXcgVWludDhBcnJheShlKS5zZXQobmV3IFVpbnQ4QXJyYXkodGhpcy5idWZmZXIsdGhpcy5vZmZzZXQsdCkpLHRoaXMubG9nKCJieXRlcyIsZSksdGhpcy5vZmZzZXQrPXQsbnVsbD09dGhpcy5wZWVrT2Zmc2V0JiZ0aGlzLmZsaXAoKSxlfX1jbGFzcyBpe2NvbnN0cnVjdG9yKHQse2luaXRpYWxPZmZzZXQ6ZT00LHVzZUF0b21pY3M6aT0hMCxzdHJlYW06cz0hMCxkZWJ1ZzpyLG5hbWU6bn09e30pe3RoaXMuYnVmZmVyPXQsdGhpcy5hdG9taWNWaWV3PW5ldyBJbnQzMkFycmF5KHQpLHRoaXMub2Zmc2V0PWUsdGhpcy51c2VBdG9taWNzPWksdGhpcy5zdHJlYW09cyx0aGlzLmRlYnVnPXIsdGhpcy5uYW1lPW4sdGhpcy51c2VBdG9taWNzP0F0b21pY3Muc3RvcmUodGhpcy5hdG9taWNWaWV3LDAsMCk6dGhpcy5hdG9taWNWaWV3WzBdPTB9bG9nKC4uLnQpe3RoaXMuZGVidWcmJmNvbnNvbGUubG9nKGBbd3JpdGVyOiAke3RoaXMubmFtZX1dYCwuLi50KX13YWl0UmVhZCh0KXtpZih0aGlzLnVzZUF0b21pY3Mpe2lmKHRoaXMubG9nKGB3YWl0aW5nIGZvciAke3R9YCksMCE9PUF0b21pY3MuY29tcGFyZUV4Y2hhbmdlKHRoaXMuYXRvbWljVmlldywwLDAsMSkpdGhyb3cgbmV3IEVycm9yKCJXcm90ZSBzb21ldGhpbmcgaW50byB1bndyaXRhYmxlIGJ1ZmZlciEgVGhpcyBpcyBkaXNhc3Ryb3VzIik7Zm9yKEF0b21pY3Mubm90aWZ5KHRoaXMuYXRvbWljVmlldywwKTsxPT09QXRvbWljcy5sb2FkKHRoaXMuYXRvbWljVmlldywwKTspQXRvbWljcy53YWl0KHRoaXMuYXRvbWljVmlldywwLDEsNTAwKTt0aGlzLmxvZyhgcmVzdW1lZCBmb3IgJHt0fWApfWVsc2UgdGhpcy5hdG9taWNWaWV3WzBdPTE7dGhpcy5vZmZzZXQ9NH1maW5hbGl6ZSgpe3RoaXMubG9nKCJmaW5hbGl6aW5nIiksbmV3IERhdGFWaWV3KHRoaXMuYnVmZmVyLHRoaXMub2Zmc2V0KS5zZXRVaW50MzIoMCx0KSx0aGlzLndhaXRSZWFkKCJmaW5hbGl6ZSIpfXN0cmluZyh0KXt0aGlzLmxvZygic3RyaW5nIix0KTtsZXQgZT0yKnQubGVuZ3RoO3RoaXMuX2ludDMyKGUpO2xldCBpPW5ldyBEYXRhVmlldyh0aGlzLmJ1ZmZlcix0aGlzLm9mZnNldCxlKTtmb3IobGV0IGU9MDtlPHQubGVuZ3RoO2UrKylpLnNldFVpbnQxNigyKmUsdC5jaGFyQ29kZUF0KGUpKTt0aGlzLm9mZnNldCs9ZSx0aGlzLndhaXRSZWFkKCJzdHJpbmciKX1faW50MzIodCl7bmV3IERhdGFWaWV3KHRoaXMuYnVmZmVyLHRoaXMub2Zmc2V0KS5zZXRJbnQzMigwLHQpLHRoaXMub2Zmc2V0Kz00fWludDMyKHQpe3RoaXMubG9nKCJpbnQzMiIsdCksdGhpcy5faW50MzIodCksdGhpcy53YWl0UmVhZCgiaW50MzIiKX1ieXRlcyh0KXt0aGlzLmxvZygiYnl0ZXMiLHQpO2xldCBlPXQuYnl0ZUxlbmd0aDt0aGlzLl9pbnQzMihlKSxuZXcgVWludDhBcnJheSh0aGlzLmJ1ZmZlcix0aGlzLm9mZnNldCkuc2V0KG5ldyBVaW50OEFycmF5KHQpKSx0aGlzLm9mZnNldCs9ZSx0aGlzLndhaXRSZWFkKCJieXRlcyIpfX1sZXQgcz0wLHI9MSxuPTIsbz00O2xldCBhPS9eKCg/IWNocm9tZXxhbmRyb2lkKS4pKnNhZmFyaS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCksbD1uZXcgTWFwLGM9bmV3IE1hcDtmdW5jdGlvbiBoKHQsZSl7aWYoIXQpdGhyb3cgbmV3IEVycm9yKGUpfWNsYXNzIGZ7Y29uc3RydWN0b3IodCxlPSJyZWFkb25seSIpe3RoaXMuZGI9dCx0aGlzLnRyYW5zPXRoaXMuZGIudHJhbnNhY3Rpb24oWyJkYXRhIl0sZSksdGhpcy5zdG9yZT10aGlzLnRyYW5zLm9iamVjdFN0b3JlKCJkYXRhIiksdGhpcy5sb2NrVHlwZT0icmVhZG9ubHkiPT09ZT9yOm8sdGhpcy5jYWNoZWRGaXJzdEJsb2NrPW51bGwsdGhpcy5jdXJzb3I9bnVsbCx0aGlzLnByZXZSZWFkcz1udWxsfWFzeW5jIHByZWZldGNoRmlyc3RCbG9jayh0KXtsZXQgZT1hd2FpdCB0aGlzLmdldCgwKTtyZXR1cm4gdGhpcy5jYWNoZWRGaXJzdEJsb2NrPWUsZX1hc3luYyB3YWl0Q29tcGxldGUoKXtyZXR1cm4gbmV3IFByb21pc2UoKCh0LGUpPT57dGhpcy5jb21taXQoKSx0aGlzLmxvY2tUeXBlPT09bz8odGhpcy50cmFucy5vbmNvbXBsZXRlPWU9PnQoKSx0aGlzLnRyYW5zLm9uZXJyb3I9dD0+ZSh0KSk6YT90aGlzLnRyYW5zLm9uY29tcGxldGU9ZT0+dCgpOnQoKX0pKX1jb21taXQoKXt0aGlzLnRyYW5zLmNvbW1pdCYmdGhpcy50cmFucy5jb21taXQoKX1hc3luYyB1cGdyYWRlRXhjbHVzaXZlKCl7dGhpcy5jb21taXQoKSx0aGlzLnRyYW5zPXRoaXMuZGIudHJhbnNhY3Rpb24oWyJkYXRhIl0sInJlYWR3cml0ZSIpLHRoaXMuc3RvcmU9dGhpcy50cmFucy5vYmplY3RTdG9yZSgiZGF0YSIpLHRoaXMubG9ja1R5cGU9bztsZXQgdD10aGlzLmNhY2hlZEZpcnN0QmxvY2s7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYobnVsbCE9dCYmbnVsbCE9ZSl7bGV0IGk9bmV3IFVpbnQ4QXJyYXkodCkscz1uZXcgVWludDhBcnJheShlKTtmb3IobGV0IHQ9MjQ7dDw0MDt0KyspaWYoaVt0XSE9PXNbdF0pcmV0dXJuITE7cmV0dXJuITB9cmV0dXJuIG51bGw9PXQmJm51bGw9PWV9KGF3YWl0IHRoaXMucHJlZmV0Y2hGaXJzdEJsb2NrKDUwMCksdCl9ZG93bmdyYWRlU2hhcmVkKCl7dGhpcy5jb21taXQoKSx0aGlzLnRyYW5zPXRoaXMuZGIudHJhbnNhY3Rpb24oWyJkYXRhIl0sInJlYWRvbmx5IiksdGhpcy5zdG9yZT10aGlzLnRyYW5zLm9iamVjdFN0b3JlKCJkYXRhIiksdGhpcy5sb2NrVHlwZT1yfWFzeW5jIGdldCh0KXtyZXR1cm4gbmV3IFByb21pc2UoKChlLGkpPT57bGV0IHM9dGhpcy5zdG9yZS5nZXQodCk7cy5vbnN1Y2Nlc3M9dD0+e2Uocy5yZXN1bHQpfSxzLm9uZXJyb3I9dD0+aSh0KX0pKX1nZXRSZWFkRGlyZWN0aW9uKCl7bGV0IHQ9dGhpcy5wcmV2UmVhZHM7aWYodCl7aWYodFswXTx0WzFdJiZ0WzFdPHRbMl0mJnRbMl0tdFswXTwxMClyZXR1cm4ibmV4dCI7aWYodFswXT50WzFdJiZ0WzFdPnRbMl0mJnRbMF0tdFsyXTwxMClyZXR1cm4icHJldiJ9cmV0dXJuIG51bGx9cmVhZCh0KXtsZXQgZT0oKT0+bmV3IFByb21pc2UoKCh0LGUpPT57aWYobnVsbCE9dGhpcy5jdXJzb3JQcm9taXNlKXRocm93IG5ldyBFcnJvcigid2FpdEN1cnNvcigpIGNhbGxlZCBidXQgc29tZXRoaW5nIGVsc2UgaXMgYWxyZWFkeSB3YWl0aW5nIik7dGhpcy5jdXJzb3JQcm9taXNlPXtyZXNvbHZlOnQscmVqZWN0OmV9fSkpO2lmKHRoaXMuY3Vyc29yKXtsZXQgaT10aGlzLmN1cnNvcjtyZXR1cm4ibmV4dCI9PT1pLmRpcmVjdGlvbiYmdD5pLmtleSYmdDxpLmtleSsxMDA/KGkuYWR2YW5jZSh0LWkua2V5KSxlKCkpOiJwcmV2Ij09PWkuZGlyZWN0aW9uJiZ0PGkua2V5JiZ0Pmkua2V5LTEwMD8oaS5hZHZhbmNlKGkua2V5LXQpLGUoKSk6KHRoaXMuY3Vyc29yPW51bGwsdGhpcy5yZWFkKHQpKX17bGV0IGk9dGhpcy5nZXRSZWFkRGlyZWN0aW9uKCk7aWYoaSl7bGV0IHM7dGhpcy5wcmV2UmVhZHM9bnVsbCxzPSJwcmV2Ij09PWk/SURCS2V5UmFuZ2UudXBwZXJCb3VuZCh0KTpJREJLZXlSYW5nZS5sb3dlckJvdW5kKHQpO2xldCByPXRoaXMuc3RvcmUub3BlbkN1cnNvcihzLGkpO3JldHVybiByLm9uc3VjY2Vzcz10PT57bGV0IGU9dC50YXJnZXQucmVzdWx0O2lmKHRoaXMuY3Vyc29yPWUsbnVsbD09dGhpcy5jdXJzb3JQcm9taXNlKXRocm93IG5ldyBFcnJvcigiR290IGRhdGEgZnJvbSBjdXJzb3IgYnV0IG5vdGhpbmcgaXMgd2FpdGluZyBpdCIpO3RoaXMuY3Vyc29yUHJvbWlzZS5yZXNvbHZlKGU/ZS52YWx1ZTpudWxsKSx0aGlzLmN1cnNvclByb21pc2U9bnVsbH0sci5vbmVycm9yPXQ9PntpZihjb25zb2xlLmxvZygiQ3Vyc29yIGZhaWx1cmU6Iix0KSxudWxsPT10aGlzLmN1cnNvclByb21pc2UpdGhyb3cgbmV3IEVycm9yKCJHb3QgZGF0YSBmcm9tIGN1cnNvciBidXQgbm90aGluZyBpcyB3YWl0aW5nIGl0Iik7dGhpcy5jdXJzb3JQcm9taXNlLnJlamVjdCh0KSx0aGlzLmN1cnNvclByb21pc2U9bnVsbH0sZSgpfXJldHVybiBudWxsPT10aGlzLnByZXZSZWFkcyYmKHRoaXMucHJldlJlYWRzPVswLDAsMF0pLHRoaXMucHJldlJlYWRzLnB1c2godCksdGhpcy5wcmV2UmVhZHMuc2hpZnQoKSx0aGlzLmdldCh0KX19YXN5bmMgc2V0KHQpe3JldHVybiB0aGlzLnByZXZSZWFkcz1udWxsLG5ldyBQcm9taXNlKCgoZSxpKT0+e2xldCBzPXRoaXMuc3RvcmUucHV0KHQudmFsdWUsdC5rZXkpO3Mub25zdWNjZXNzPXQ9PmUocy5yZXN1bHQpLHMub25lcnJvcj10PT5pKHQpfSkpfWFzeW5jIGJ1bGtTZXQodCl7dGhpcy5wcmV2UmVhZHM9bnVsbDtmb3IobGV0IGUgb2YgdCl0aGlzLnN0b3JlLnB1dChlLnZhbHVlLGUua2V5KX19YXN5bmMgZnVuY3Rpb24gdSh0KXtyZXR1cm4gbmV3IFByb21pc2UoKChlLGkpPT57aWYobC5nZXQodCkpcmV0dXJuIHZvaWQgZShsLmdldCh0KSk7bGV0IHM9Z2xvYmFsVGhpcy5pbmRleGVkREIub3Blbih0LDIpO3Mub25zdWNjZXNzPWk9PntsZXQgcz1pLnRhcmdldC5yZXN1bHQ7cy5vbnZlcnNpb25jaGFuZ2U9KCk9Pntjb25zb2xlLmxvZygiY2xvc2luZyBiZWNhdXNlIHZlcnNpb24gY2hhbmdlZCIpLHMuY2xvc2UoKSxsLmRlbGV0ZSh0KX0scy5vbmNsb3NlPSgpPT57bC5kZWxldGUodCl9LGwuc2V0KHQscyksZShzKX0scy5vbnVwZ3JhZGVuZWVkZWQ9dD0+e2xldCBlPXQudGFyZ2V0LnJlc3VsdDtlLm9iamVjdFN0b3JlTmFtZXMuY29udGFpbnMoImRhdGEiKXx8ZS5jcmVhdGVPYmplY3RTdG9yZSgiZGF0YSIpfSxzLm9uYmxvY2tlZD10PT5jb25zb2xlLmxvZygiYmxvY2tlZCIsdCkscy5vbmVycm9yPXMub25hYm9ydD10PT5pKHQudGFyZ2V0LmVycm9yKX0pKX1hc3luYyBmdW5jdGlvbiB3KHQsZSxpKXtsZXQgcz1jLmdldCh0KTtpZihzKXtpZigicmVhZHdyaXRlIj09PWUmJnMubG9ja1R5cGU9PT1yKXRocm93IG5ldyBFcnJvcigiQXR0ZW1wdGVkIHdyaXRlIGJ1dCBvbmx5IGhhcyBTSEFSRUQgbG9jayIpO3JldHVybiBpKHMpfXM9bmV3IGYoYXdhaXQgdSh0KSxlKSxhd2FpdCBpKHMpLGF3YWl0IHMud2FpdENvbXBsZXRlKCl9YXN5bmMgZnVuY3Rpb24gZCh0LGUsaSl7bGV0IG49ZnVuY3Rpb24odCl7cmV0dXJuIGMuZ2V0KHQpfShlKTtpZihpPT09cil7aWYobnVsbD09bil0aHJvdyBuZXcgRXJyb3IoIlVubG9jayBlcnJvciAoU0hBUkVEKTogbm8gdHJhbnNhY3Rpb24gcnVubmluZyIpO24ubG9ja1R5cGU9PT1vJiZuLmRvd25ncmFkZVNoYXJlZCgpfWVsc2UgaT09PXMmJm4mJihhd2FpdCBuLndhaXRDb21wbGV0ZSgpLGMuZGVsZXRlKGUpKTt0LmludDMyKDApLHQuZmluYWxpemUoKX1hc3luYyBmdW5jdGlvbiBnKHQsZSl7bGV0IGk9dC5zdHJpbmcoKTtzd2l0Y2goaSl7Y2FzZSJwcm9maWxlLXN0YXJ0Ijp0LmRvbmUoKSxlLmludDMyKDApLGUuZmluYWxpemUoKSxnKHQsZSk7YnJlYWs7Y2FzZSJwcm9maWxlLXN0b3AiOnQuZG9uZSgpLGF3YWl0IG5ldyBQcm9taXNlKCh0PT5zZXRUaW1lb3V0KHQsMWUzKSkpLGUuaW50MzIoMCksZS5maW5hbGl6ZSgpLGcodCxlKTticmVhaztjYXNlIndyaXRlQmxvY2tzIjp7bGV0IGk9dC5zdHJpbmcoKSxzPVtdO2Zvcig7IXQuZG9uZSgpOyl7bGV0IGU9dC5pbnQzMigpLGk9dC5ieXRlcygpO3MucHVzaCh7cG9zOmUsZGF0YTppfSl9YXdhaXQgYXN5bmMgZnVuY3Rpb24odCxlLGkpe3JldHVybiB3KGUsInJlYWR3cml0ZSIsKGFzeW5jIGU9Pnthd2FpdCBlLmJ1bGtTZXQoaS5tYXAoKHQ9Pih7a2V5OnQucG9zLHZhbHVlOnQuZGF0YX0pKSkpLHQuaW50MzIoMCksdC5maW5hbGl6ZSgpfSkpfShlLGkscyksZyh0LGUpO2JyZWFrfWNhc2UicmVhZEJsb2NrIjp7bGV0IGk9dC5zdHJpbmcoKSxzPXQuaW50MzIoKTt0LmRvbmUoKSxhd2FpdCBhc3luYyBmdW5jdGlvbih0LGUsaSl7cmV0dXJuIHcoZSwicmVhZG9ubHkiLChhc3luYyBlPT57bGV0IHM9YXdhaXQgZS5yZWFkKGkpO251bGw9PXM/dC5ieXRlcyhuZXcgQXJyYXlCdWZmZXIoMCkpOnQuYnl0ZXMocyksdC5maW5hbGl6ZSgpfSkpfShlLGkscyksZyh0LGUpO2JyZWFrfWNhc2UicmVhZE1ldGEiOntsZXQgaT10LnN0cmluZygpO3QuZG9uZSgpLGF3YWl0IGFzeW5jIGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHcoZSwicmVhZG9ubHkiLChhc3luYyBpPT57dHJ5e2NvbnNvbGUubG9nKCJSZWFkaW5nIG1ldGEuLi4iKTtsZXQgcz1hd2FpdCBpLmdldCgtMSk7aWYoY29uc29sZS5sb2coYEdvdCBtZXRhIGZvciAke2V9OmAscyksbnVsbD09cyl0LmludDMyKC0xKSx0LmludDMyKDQwOTYpLHQuZmluYWxpemUoKTtlbHNle2xldCBlPWF3YWl0IGkuZ2V0KDApLHI9NDA5NjtlJiYocj0yNTYqbmV3IFVpbnQxNkFycmF5KGUpWzhdKSx0LmludDMyKHMuc2l6ZSksdC5pbnQzMihyKSx0LmZpbmFsaXplKCl9fWNhdGNoKGUpe2NvbnNvbGUubG9nKGUpLHQuaW50MzIoLTEpLHQuaW50MzIoLTEpLHQuZmluYWxpemUoKX19KSl9KGUsaSksZyh0LGUpO2JyZWFrfWNhc2Uid3JpdGVNZXRhIjp7bGV0IGk9dC5zdHJpbmcoKSxzPXQuaW50MzIoKTt0LmRvbmUoKSxhd2FpdCBhc3luYyBmdW5jdGlvbih0LGUsaSl7cmV0dXJuIHcoZSwicmVhZHdyaXRlIiwoYXN5bmMgZT0+e3RyeXthd2FpdCBlLnNldCh7a2V5Oi0xLHZhbHVlOml9KSx0LmludDMyKDApLHQuZmluYWxpemUoKX1jYXRjaChlKXtjb25zb2xlLmxvZyhlKSx0LmludDMyKC0xKSx0LmZpbmFsaXplKCl9fSkpfShlLGkse3NpemU6c30pLGcodCxlKTticmVha31jYXNlImNsb3NlRmlsZSI6e2xldCBpPXQuc3RyaW5nKCk7dC5kb25lKCksZS5pbnQzMigwKSxlLmZpbmFsaXplKCksZnVuY3Rpb24odCl7bGV0IGU9bC5nZXQodCk7ZSYmKGUuY2xvc2UoKSxsLmRlbGV0ZSh0KSl9KGkpLHNlbGYuY2xvc2UoKTticmVha31jYXNlImxvY2tGaWxlIjp7bGV0IGk9dC5zdHJpbmcoKSxzPXQuaW50MzIoKTt0LmRvbmUoKSxhd2FpdCBhc3luYyBmdW5jdGlvbih0LGUsaSl7bGV0IHM9Yy5nZXQoZSk7aWYocylpZihpPnMubG9ja1R5cGUpe2gocy5sb2NrVHlwZT09PXIsYFVwcmFkaW5nIGxvY2sgdHlwZSBmcm9tICR7cy5sb2NrVHlwZX0gaXMgaW52YWxpZGApLGgoaT09PW58fGk9PT1vLGBVcGdyYWRpbmcgbG9jayB0eXBlIHRvICR7aX0gaXMgaW52YWxpZGApO2xldCBlPWF3YWl0IHMudXBncmFkZUV4Y2x1c2l2ZSgpO3QuaW50MzIoZT8wOi0xKSx0LmZpbmFsaXplKCl9ZWxzZSBoKHMubG9ja1R5cGU9PT1pLGBEb3duZ3JhZGluZyBsb2NrIHRvICR7aX0gaXMgaW52YWxpZGApLHQuaW50MzIoMCksdC5maW5hbGl6ZSgpO2Vsc2V7aChpPT09cixgTmV3IGxvY2tzIG11c3Qgc3RhcnQgYXMgU0hBUkVEIGluc3RlYWQgb2YgJHtpfWApO2xldCBzPW5ldyBmKGF3YWl0IHUoZSkpO2F3YWl0IHMucHJlZmV0Y2hGaXJzdEJsb2NrKDUwMCksYy5zZXQoZSxzKSx0LmludDMyKDApLHQuZmluYWxpemUoKX19KGUsaSxzKSxnKHQsZSk7YnJlYWt9Y2FzZSJ1bmxvY2tGaWxlIjp7bGV0IGk9dC5zdHJpbmcoKSxzPXQuaW50MzIoKTt0LmRvbmUoKSxhd2FpdCBkKGUsaSxzKSxnKHQsZSk7YnJlYWt9ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoIlVua25vd24gbWV0aG9kOiAiK2kpfX1zZWxmLm9ubWVzc2FnZT10PT57c3dpdGNoKHQuZGF0YS50eXBlKXtjYXNlImluaXQiOntsZXRbcyxyXT10LmRhdGEuYnVmZmVycztnKG5ldyBlKHMse25hbWU6ImFyZ3MiLGRlYnVnOiExfSksbmV3IGkocix7bmFtZToicmVzdWx0cyIsZGVidWc6ITF9KSk7YnJlYWt9fX19KCk7Cgo=",null,!1),Ae=Object.freeze({__proto__:null,default:Ne});export{F as AllowType,P as ApplicationHandleResult,U as CbEvents,j as GroupAtType,K as GroupJoinSource,q as GroupMemberFilter,_ as GroupMemberRole,te as GroupMessageReaderFilter,E as GroupStatus,x as GroupType,J as GroupVerificationType,H as LogLevel,ee as LoginStatus,V as MessageReceiveOptType,Y as MessageStatus,Q as MessageType,ne as OnlineState,z as Platform,$ as Relationship,T as SessionType,Ue as getSDK};
